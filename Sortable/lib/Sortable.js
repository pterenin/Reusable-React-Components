!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],t):"object"==typeof exports?exports.Sortable=t(require("react"),require("react-dom")):e.Sortable=t(e.react,e["react-dom"])}(this,function(e,t){return function(e){function t(i){if(r[i])return r[i].exports;var n=r[i]={exports:{},id:i,loaded:!1};return e[i].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),p=r(1),l=i(p),h=r(6),c=i(h),d=r(2),u=i(d);r(11);var f=function(e){function t(e){n(this,t);var r=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),i=r.props.items.map(function(e,t){return{index:t,item:e,id:t}});return r.currentIndex=-1,r.state={items:i,dragging:{isDragging:!1},isDraggingOver:!1},r}return o(t,e),a(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.items.map(function(e,t){return{index:t,item:e,id:t}});this.setState({items:t})}},{key:"sortColumns",value:function(e,t){return e.index<t.index?-1:e.index>t.index?1:0}},{key:"onDragStart",value:function(e,t){var r=(u["default"].findDOMNode(this.refs.dnnSortable).querySelectorAll('[data-dnn-sortable-id="'+i+'"]')[0],{isDragging:!0});this.setState({dragging:r});var i=t.target.getAttribute("data-dnn-sortable-id");this.setFieldSelected(i,!0),t.target.classList.add("dnn-sortable-dragging")}},{key:"onDragEnd",value:function(e,t){var r={isDragging:!1};this.setState({dragging:r});var i=t.target.getAttribute("data-dnn-sortable-id");this.setFieldSelected(i,!1),this.currentIndex=-1,this.unselectAll()}},{key:"unselectAll",value:function(){var e=this.state.items;e.forEach(function(e){return!!e&&(e.selected=!1)}),this.setState({items:e})}},{key:"setFieldSelected",value:function(e,t){var r=this.state.items;r.forEach(function(r){r.id==e?r.selected=t:r.selected=!1})}},{key:"onDragMove",value:function(){}},{key:"updateItemClass",value:function(e,t){[].forEach.call(e,function(e,r){t>e.offsetHeight*r+e.getBoundingClientRect().height/2&&t<e.offsetHeight*r+e.getBoundingClientRect().height+e.getBoundingClientRect().height/2?e.classList.add("dragged-over"):e.classList.remove("dragged-over")})}},{key:"onDropMove",value:function(e,t,r){this.setState({isDraggingOver:!0});var i=e.target.getElementsByClassName("sortable-item");this.props.sortOnDrag?this.sortOnDrag(e,t,r):this.updateItemClass(i,r)}},{key:"onDragLeave",value:function(){this.setState({isDraggingOver:!1}),this.removePlaceholder()}},{key:"removePlaceholder",value:function(){var e=document.getElementsByClassName("sortable-item");this.updateItemClass(e,-1e3)}},{key:"getNewIndex",value:function(e,t){var r=0;return[].forEach.call(e,function(e,i){t>e.offsetHeight*i+e.getBoundingClientRect().height/2&&(r=+e.getAttribute("data-index")+1)}),r}},{key:"sortItem",value:function(e){var t=this.currentIndex,r=this.state.items,i=r.find(function(e){return e.index==t}),n=r.find(function(t){return t.index==e});n&&(i.index=e,n.index=t,this.currentIndex=e,r.sort(this.sortColumns),this.setState({items:r},this.callProps.bind(this)))}},{key:"moveItem",value:function(e,t,r){var i=e.find(function(e){return e.id==t});i.index=r}},{key:"updateIndexes",value:function(e,t){return e.forEach(function(e){e.index>=t&&(e.index=e.index+1)}),e}},{key:"sortOnDrag",value:function(e,t,r){var i=e.draggable._element.getAttribute("data-dnn-sortable-id"),n=u["default"].findDOMNode(this.refs.dnnSortable).querySelectorAll('[data-dnn-sortable-id="'+i+'"]')[0];n.getAttribute("data-index");var s=document.getElementsByClassName("sortable-item"),o=this.getNewIndex(s,r);if(this.currentIndex==-1){var a=n.getAttribute("data-index");this.currentIndex=a}var p=o==this.currentIndex;p||this.sortItem(o)}},{key:"onDrop",value:function(e,t,r){if(this.currentIndex=-1,this.unselectAll(),this.setState({isDraggingOver:!1}),!this.props.sortOnDrag){var i=e.draggable._element.getAttribute("data-dnn-sortable-id"),n=u["default"].findDOMNode(this.refs.dnnSortable).querySelectorAll('[data-dnn-sortable-id="'+i+'"]')[0];n.classList.remove("sortable-selected"),this.removePlaceholder();var s=document.getElementsByClassName("sortable-item"),o=this.getNewIndex(s,r),a=e.draggable._element.getAttribute("data-index"),p=null!=a&&(o==a||o-1==a);if(!p){var l=this.state.items;l=this.updateIndexes(l,o),this.moveItem(l,i,o),this.resetIndexes(l),this.setState({items:l},this.callProps.bind(this))}}}},{key:"callProps",value:function(){var e=this.state.items.map(function(e){return e.item});this.props.onSort(e)}},{key:"resetIndexes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.items;e.sort(this.sortColumns),e.forEach(function(e,t){e.index=t})}},{key:"render",value:function(){var e=this,t=this.props,r=t.children,i=t.items;if(r.length!=i.length)return console.error("Children.length and items.length should be equal"),!1;var n=r.map(function(t,r){var i=e.state.items[r]||{};return l["default"].cloneElement(t,{listItem:i,selected:i.selected})});return l["default"].createElement("div",{className:"dnn-sortable",ref:"dnnSortable"},l["default"].createElement(c["default"],{onDragMove:this.onDragMove.bind(this),onDragStart:this.onDragStart.bind(this),onDragEnd:this.onDragEnd.bind(this),onDrop:this.onDrop.bind(this),onDropMove:this.onDropMove.bind(this),onDragLeave:this.onDragLeave.bind(this),isDragging:this.state.dragging.isDragging,isDraggingOver:this.state.isDraggingOver},n))}}]),t}(p.Component);t["default"]=f,f.propTypes={children:p.PropTypes.node.isRequired,items:p.PropTypes.array.isRequired,onSort:p.PropTypes.func.isRequired,sortOnDrag:p.PropTypes.bool}},function(t,r){t.exports=e},function(e,r){e.exports=t},function(e,t,r){!function(r){"use strict";function i(){}function n(e){if(!e||"object"!=typeof e)return!1;var t=z(e)||ye;return/object|function/.test(typeof t.Element)?e instanceof t.Element:1===e.nodeType&&"string"==typeof e.nodeName}function s(e){return e===ye||!(!e||!e.Window)&&e instanceof e.Window}function o(e){return!!e&&e instanceof be}function a(e){return p(e)&&void 0!==typeof e.length&&l(e.splice)}function p(e){return!!e&&"object"==typeof e}function l(e){return"function"==typeof e}function h(e){return"number"==typeof e}function c(e){return"boolean"==typeof e}function d(e){return"string"==typeof e}function u(e){return!!d(e)&&(xe.querySelector(e),!0)}function f(e,t){for(var r in t)e[r]=t[r];return e}function g(e,t){for(var r in t){var i=!1;for(var n in Qe)if(0===r.indexOf(n)&&Qe[n].test(r)){i=!0;break}i||(e[r]=t[r])}return e}function v(e,t){e.page=e.page||{},e.page.x=t.page.x,e.page.y=t.page.y,e.client=e.client||{},e.client.x=t.client.x,e.client.y=t.client.y,e.timeStamp=t.timeStamp}function m(e,t,r){var i=t.length>1?M(t):t[0];E(i,Ce,r),e.page.x=Ce.x,e.page.y=Ce.y,S(i,Ce,r),e.client.x=Ce.x,e.client.y=Ce.y,e.timeStamp=(new Date).getTime()}function y(e,t,r){e.page.x=r.page.x-t.page.x,e.page.y=r.page.y-t.page.y,e.client.x=r.client.x-t.client.x,e.client.y=r.client.y-t.client.y,e.timeStamp=(new Date).getTime()-t.timeStamp;var i=Math.max(e.timeStamp/1e3,.001);e.page.speed=ze(e.page.x,e.page.y)/i,e.page.vx=e.page.x/i,e.page.vy=e.page.y/i,e.client.speed=ze(e.client.x,e.page.y)/i,e.client.vx=e.client.x/i,e.client.vy=e.client.y/i}function x(e){return e instanceof ye.Event||Ie&&ye.Touch&&e instanceof ye.Touch}function b(e,t,r){return r=r||{},e=e||"page",r.x=t[e+"X"],r.y=t[e+"Y"],r}function E(e,t){return t=t||{},We&&x(e)?(b("screen",e,t),t.x+=ye.scrollX,t.y+=ye.scrollY):b("page",e,t),t}function S(e,t){return t=t||{},We&&x(e)?b("screen",e,t):b("client",e,t),t}function w(e){return e=e||ye,{x:e.scrollX||e.document.documentElement.scrollLeft,y:e.scrollY||e.document.documentElement.scrollTop}}function D(e){return h(e.pointerId)?e.pointerId:e.identifier}function T(e){return e instanceof we?e.correspondingUseElement:e}function z(e){if(s(e))return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||ye}function C(e){var t=e instanceof Ee?e.getBoundingClientRect():e.getClientRects()[0];return t&&{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width||t.right-t.left,height:t.height||t.bottom-t.top}}function O(e){var t=C(e);if(!Ge&&t){var r=w(z(e));t.left+=r.x,t.right+=r.x,t.top+=r.y,t.bottom+=r.y}return t}function P(e){var t=[];return a(e)?(t[0]=e[0],t[1]=e[1]):"touchend"===e.type?1===e.touches.length?(t[0]=e.touches[0],t[1]=e.changedTouches[0]):0===e.touches.length&&(t[0]=e.changedTouches[0],t[1]=e.changedTouches[1]):(t[0]=e.touches[0],t[1]=e.touches[1]),t}function M(e){for(var t,r={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},i=0;i<e.length;i++)for(t in r)r[t]+=e[i][t];for(t in r)r[t]/=e.length;return r}function _(e){if(e.length||e.touches&&e.touches.length>1){var t=P(e),r=Math.min(t[0].pageX,t[1].pageX),i=Math.min(t[0].pageY,t[1].pageY),n=Math.max(t[0].pageX,t[1].pageX),s=Math.max(t[0].pageY,t[1].pageY);return{x:r,y:i,left:r,top:i,width:n-r,height:s-i}}}function k(e,t){t=t||Ae.deltaSource;var r=t+"X",i=t+"Y",n=P(e),s=n[0][r]-n[1][r],o=n[0][i]-n[1][i];return ze(s,o)}function A(e,t,r){r=r||Ae.deltaSource;var i=r+"X",n=r+"Y",s=P(e),o=s[0][i]-s[1][i],a=s[0][n]-s[1][n],p=180*Math.atan(a/o)/Math.PI;if(h(t)){var l=p-t,c=l%360;c>315?p-=360+p/360|0:c>135?p-=180+p/360|0:c<-315?p+=360+p/360|0:c<-135&&(p+=180+p/360|0)}return p}function R(e,t){var r=e?e.options.origin:Ae.origin;return"parent"===r?r=q(t):"self"===r?r=e.getRect(t):u(r)&&(r=N(t,r)||{x:0,y:0}),l(r)&&(r=r(e&&t)),n(r)&&(r=O(r)),r.x="x"in r?r.x:r.left,r.y="y"in r?r.y:r.top,r}function I(e,t,r,i){var n=1-e;return n*n*t+2*n*e*r+e*e*i}function Y(e,t,r,i,n,s,o){return{x:I(o,e,r,n),y:I(o,t,i,s)}}function X(e,t,r,i){return e/=i,-r*e*(e-2)+t}function j(e,t){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function N(e,t){for(var r=q(e);n(r);){if(fe(r,t))return r;r=q(r)}return null}function q(e){var t=e.parentNode;if(o(t)){for(;(t=t.host)&&o(t););return t}return t}function F(e,t){return e._context===t.ownerDocument||j(e._context,t)}function L(e,t,r){var i=e.options.ignoreFrom;return!(!i||!n(r))&&(d(i)?ge(r,i,t):!!n(i)&&j(i,r))}function B(e,t,r){var i=e.options.allowFrom;return!i||!!n(r)&&(d(i)?ge(r,i,t):!!n(i)&&j(i,r))}function U(e,t){if(!t)return!1;var r=t.options.drag.axis;return"xy"===e||"xy"===r||r===e}function H(e,t){var r=e.options;return/^resize/.test(t)&&(t="resize"),r[t].snap&&r[t].snap.enabled}function W(e,t){var r=e.options;return/^resize/.test(t)&&(t="resize"),r[t].restrict&&r[t].restrict.enabled}function G(e,t){var r=e.options;return/^resize/.test(t)&&(t="resize"),r[t].autoScroll&&r[t].autoScroll.enabled}function V(e,t,r){for(var i=e.options,n=i[r.name].max,s=i[r.name].maxPerElement,o=0,a=0,p=0,l=0,h=Me.length;l<h;l++){var c=Me[l],d=c.prepared.name,u=c.interacting();if(u){if(o++,o>=qe)return!1;if(c.target===e){if(a+=d===r.name|0,a>=n)return!1;if(c.element===t&&(p++,d!==r.name||p>=s))return!1}}}return qe>0}function $(e){var t,r,i,n,s,o=e[0],a=o?0:-1,p=[],l=[];for(n=1;n<e.length;n++)if(t=e[n],t&&t!==o)if(o){if(t.parentNode!==t.ownerDocument)if(o.parentNode!==t.ownerDocument){if(!p.length)for(r=o;r.parentNode&&r.parentNode!==r.ownerDocument;)p.unshift(r),r=r.parentNode;if(o instanceof De&&t instanceof Ee&&!(t instanceof Se)){if(t===o.parentNode)continue;r=t.ownerSVGElement}else r=t;for(l=[];r.parentNode!==r.ownerDocument;)l.unshift(r),r=r.parentNode;for(s=0;l[s]&&l[s]===p[s];)s++;var h=[l[s-1],l[s],p[s]];for(i=h[0].lastChild;i;){if(i===h[1]){o=t,a=n,p=[];break}if(i===h[2])break;i=i.previousSibling}}else o=t,a=n}else o=t,a=n;return a}function K(){if(this.target=null,this.element=null,this.dropTarget=null,this.dropElement=null,this.prevDropTarget=null,this.prevDropElement=null,this.prepared={name:null,axis:null,edges:null},this.matches=[],this.matchElements=[],this.inertiaStatus={active:!1,smoothEnd:!1,ending:!1,startEvent:null,upCoords:{},xe:0,ye:0,sx:0,sy:0,t0:0,vx0:0,vys:0,duration:0,resumeDx:0,resumeDy:0,lambda_v0:0,one_ve_v0:0,i:null},l(Function.prototype.bind))this.boundInertiaFrame=this.inertiaFrame.bind(this),this.boundSmoothEndFrame=this.smoothEndFrame.bind(this);else{var e=this;this.boundInertiaFrame=function(){return e.inertiaFrame()},this.boundSmoothEndFrame=function(){return e.smoothEndFrame()}}this.activeDrops={dropzones:[],elements:[],rects:[]},this.pointers=[],this.pointerIds=[],this.downTargets=[],this.downTimes=[],this.holdTimers=[],this.prevCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.curCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.startCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.pointerDelta={page:{x:0,y:0,vx:0,vy:0,speed:0},client:{x:0,y:0,vx:0,vy:0,speed:0},timeStamp:0},this.downEvent=null,this.downPointer={},this._eventTarget=null,this._curEventTarget=null,this.prevEvent=null,this.tapTime=0,this.prevTap=null,this.startOffset={left:0,right:0,top:0,bottom:0},this.restrictOffset={left:0,right:0,top:0,bottom:0},this.snapOffsets=[],this.gesture={start:{x:0,y:0},startDistance:0,prevDistance:0,distance:0,scale:1,startAngle:0,prevAngle:0},this.snapStatus={x:0,y:0,dx:0,dy:0,realX:0,realY:0,snappedX:0,snappedY:0,targets:[],locked:!1,changed:!1},this.restrictStatus={dx:0,dy:0,restrictedX:0,restrictedY:0,snap:null,restricted:!1,changed:!1},this.restrictStatus.snap=this.snapStatus,this.pointerIsDown=!1,this.pointerWasMoved=!1,this.gesturing=!1,this.dragging=!1,this.resizing=!1,this.resizeAxes="xy",this.mouse=!1,Me.push(this)}function J(e,t,r){var i,n=0,s=Me.length,o=/mouse/i.test(e.pointerType||t)||4===e.pointerType,a=D(e);if(/down|start/i.test(t))for(n=0;n<s;n++){i=Me[n];var p=r;if(i.inertiaStatus.active&&i.target.options[i.prepared.name].inertia.allowResume&&i.mouse===o)for(;p;){if(p===i.element)return i;p=q(p)}}if(o||!Ie&&!Ye){for(n=0;n<s;n++)if(Me[n].mouse&&!Me[n].inertiaStatus.active)return Me[n];for(n=0;n<s;n++)if(Me[n].mouse&&(!/down/.test(t)||!Me[n].inertiaStatus.active))return i;return i=new K,i.mouse=!0,i}for(n=0;n<s;n++)if(ue(Me[n].pointerIds,a))return Me[n];if(/up|end|out/i.test(t))return null;for(n=0;n<s;n++)if(i=Me[n],(!i.prepared.name||i.target.options.gesture.enabled)&&!i.interacting()&&(o||!i.mouse))return i;return new K}function Q(e){return function(t){var r,i,n=T(t.path?t.path[0]:t.target),s=T(t.currentTarget);if(Ie&&/touch/.test(t.type))for(Ne=(new Date).getTime(),i=0;i<t.changedTouches.length;i++){var o=t.changedTouches[i];r=J(o,t.type,n),r&&(r._updateEventTargets(n,s),r[e](o,t,n,s))}else{if(!Ye&&/mouse/.test(t.type)){for(i=0;i<Me.length;i++)if(!Me[i].mouse&&Me[i].pointerIsDown)return;if((new Date).getTime()-Ne<500)return}if(r=J(t,t.type,n),!r)return;r._updateEventTargets(n,s),r[e](t,t,n,s)}}}function Z(e,t,r,i,n,s){var o,a,p=e.target,l=e.snapStatus,h=e.restrictStatus,c=e.pointers,d=(p&&p.options||Ae).deltaSource,u=d+"X",g=d+"Y",v=p?p.options:Ae,m=R(p,n),y="start"===i,x="end"===i,b=y?e.startCoords:e.curCoords;n=n||e.element,a=f({},b.page),o=f({},b.client),a.x-=m.x,a.y-=m.y,o.x-=m.x,o.y-=m.y;var E=v[r].snap&&v[r].snap.relativePoints;!H(p,r)||y&&E&&E.length||(this.snap={range:l.range,locked:l.locked,x:l.snappedX,y:l.snappedY,realX:l.realX,realY:l.realY,dx:l.dx,dy:l.dy},l.locked&&(a.x+=l.dx,a.y+=l.dy,o.x+=l.dx,o.y+=l.dy)),!W(p,r)||y&&v[r].restrict.elementRect||!h.restricted||(a.x+=h.dx,a.y+=h.dy,o.x+=h.dx,o.y+=h.dy,this.restrict={dx:h.dx,dy:h.dy}),this.pageX=a.x,this.pageY=a.y,this.clientX=o.x,this.clientY=o.y,this.x0=e.startCoords.page.x-m.x,this.y0=e.startCoords.page.y-m.y,this.clientX0=e.startCoords.client.x-m.x,this.clientY0=e.startCoords.client.y-m.y,this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.button=t.button,this.buttons=t.buttons,this.target=n,this.t0=e.downTimes[0],this.type=r+(i||""),this.interaction=e,this.interactable=p;var S=e.inertiaStatus;if(S.active&&(this.detail="inertia"),s&&(this.relatedTarget=s),x?"client"===d?(this.dx=o.x-e.startCoords.client.x,this.dy=o.y-e.startCoords.client.y):(this.dx=a.x-e.startCoords.page.x,this.dy=a.y-e.startCoords.page.y):y?(this.dx=0,this.dy=0):"inertiastart"===i?(this.dx=e.prevEvent.dx,this.dy=e.prevEvent.dy):"client"===d?(this.dx=o.x-e.prevEvent.clientX,this.dy=o.y-e.prevEvent.clientY):(this.dx=a.x-e.prevEvent.pageX,this.dy=a.y-e.prevEvent.pageY),e.prevEvent&&"inertia"===e.prevEvent.detail&&!S.active&&v[r].inertia&&v[r].inertia.zeroResumeDelta&&(S.resumeDx+=this.dx,S.resumeDy+=this.dy,this.dx=this.dy=0),"resize"===r&&e.resizeAxes?v.resize.square?("y"===e.resizeAxes?this.dx=this.dy:this.dy=this.dx,this.axes="xy"):(this.axes=e.resizeAxes,"x"===e.resizeAxes?this.dy=0:"y"===e.resizeAxes&&(this.dx=0)):"gesture"===r&&(this.touches=[c[0],c[1]],y?(this.distance=k(c,d),this.box=_(c),this.scale=1,this.ds=0,this.angle=A(c,void 0,d),this.da=0):x||t instanceof Z?(this.distance=e.prevEvent.distance,this.box=e.prevEvent.box,this.scale=e.prevEvent.scale,this.ds=this.scale-1,this.angle=e.prevEvent.angle,this.da=this.angle-e.gesture.startAngle):(this.distance=k(c,d),this.box=_(c),this.scale=this.distance/e.gesture.startDistance,this.angle=A(c,e.gesture.prevAngle,d),this.ds=this.scale-e.gesture.prevScale,this.da=this.angle-e.gesture.prevAngle)),y)this.timeStamp=e.downTimes[0],this.dt=0,this.duration=0,this.speed=0,this.velocityX=0,this.velocityY=0;else if("inertiastart"===i)this.timeStamp=e.prevEvent.timeStamp,this.dt=e.prevEvent.dt,this.duration=e.prevEvent.duration,this.speed=e.prevEvent.speed,this.velocityX=e.prevEvent.velocityX,this.velocityY=e.prevEvent.velocityY;else if(this.timeStamp=(new Date).getTime(),this.dt=this.timeStamp-e.prevEvent.timeStamp,this.duration=this.timeStamp-e.downTimes[0],t instanceof Z){var w=this[u]-e.prevEvent[u],D=this[g]-e.prevEvent[g],T=this.dt/1e3;this.speed=ze(w,D)/T,this.velocityX=w/T,this.velocityY=D/T}else this.speed=e.pointerDelta[d].speed,this.velocityX=e.pointerDelta[d].vx,this.velocityY=e.pointerDelta[d].vy;if((x||"inertiastart"===i)&&e.prevEvent.speed>600&&this.timeStamp-e.prevEvent.timeStamp<150){var z=180*Math.atan2(e.prevEvent.velocityY,e.prevEvent.velocityX)/Math.PI,C=22.5;z<0&&(z+=360);var O=135-C<=z&&z<225+C,P=225-C<=z&&z<315+C,M=!O&&(315-C<=z||z<45+C),I=!P&&45-C<=z&&z<135+C;this.swipe={up:P,down:I,left:O,right:M,angle:z,speed:e.prevEvent.speed,velocity:{x:e.prevEvent.velocityX,y:e.prevEvent.velocityY}}}}function ee(){this.originalEvent.preventDefault()}function te(e){var t="";if("drag"===e.name&&(t=Fe.drag),"resize"===e.name)if(e.axis)t=Fe[e.name+e.axis];else if(e.edges){for(var r="resize",i=["top","bottom","left","right"],n=0;n<4;n++)e.edges[i[n]]&&(r+=i[n]);t=Fe[r]}return t}function re(e,t,r,i,s,o,a){if(!t)return!1;if(t===!0){var p=h(o.width)?o.width:o.right-o.left,l=h(o.height)?o.height:o.bottom-o.top;if(p<0&&("left"===e?e="right":"right"===e&&(e="left")),l<0&&("top"===e?e="bottom":"bottom"===e&&(e="top")),"left"===e)return r.x<(p>=0?o.left:o.right)+a;if("top"===e)return r.y<(l>=0?o.top:o.bottom)+a;if("right"===e)return r.x>(p>=0?o.right:o.left)-a;if("bottom"===e)return r.y>(l>=0?o.bottom:o.top)-a}return!!n(i)&&(n(t)?t===i:ge(i,t,s))}function ie(e,t,r){var i,n=this.getRect(r),s=!1,o=null,a=null,l=f({},t.curCoords.page),h=this.options;if(!n)return null;if(Le.resize&&h.resize.enabled){var c=h.resize;if(i={left:!1,right:!1,top:!1,bottom:!1},p(c.edges)){for(var d in i)i[d]=re(d,c.edges[d],l,t._eventTarget,r,n,c.margin||Xe);i.left=i.left&&!i.right,i.top=i.top&&!i.bottom,s=i.left||i.right||i.top||i.bottom}else{var u="y"!==h.resize.axis&&l.x>n.right-Xe,g="x"!==h.resize.axis&&l.y>n.bottom-Xe;s=u||g,a=(u?"x":"")+(g?"y":"")}}return o=s?"resize":Le.drag&&h.drag.enabled?"drag":null,Le.gesture&&t.pointerIds.length>=2&&!t.dragging&&!t.resizing&&(o="gesture"),o?{name:o,axis:a,edges:i}:null}function ne(e,t){if(!p(e))return null;var r=e.name,i=t.options;return("resize"===r&&i.resize.enabled||"drag"===r&&i.drag.enabled||"gesture"===r&&i.gesture.enabled)&&Le[r]?("resize"!==r&&"resizeyx"!==r||(r="resizexy"),e):null}function se(e,t){var r={},i=ke[e.type],s=T(e.path?e.path[0]:e.target),o=s;t=!!t;for(var a in e)r[a]=e[a];for(r.originalEvent=e,r.preventDefault=ee;n(o);){for(var p=0;p<i.selectors.length;p++){var l=i.selectors[p],h=i.contexts[p];if(fe(o,l)&&j(h,s)&&j(h,o)){var c=i.listeners[p];r.currentTarget=o;for(var d=0;d<c.length;d++)c[d][1]===t&&c[d][0](r)}}o=q(o)}}function oe(e){return se.call(this,e,!0)}function ae(e,t){return Pe.get(e,t)||new pe(e,t)}function pe(e,t){this._element=e,this._iEvents=this._iEvents||{};var r;if(u(e)){this.selector=e;var i=t&&t.context;r=i?z(i):ye,i&&(r.Node?i instanceof r.Node:n(i)||i===r.document)&&(this._context=i)}else r=z(e),n(e,r)&&(Te?(Je.add(this._element,ve.down,Ze.pointerDown),Je.add(this._element,ve.move,Ze.pointerHover)):(Je.add(this._element,"mousedown",Ze.pointerDown),Je.add(this._element,"mousemove",Ze.pointerHover),Je.add(this._element,"touchstart",Ze.pointerDown),Je.add(this._element,"touchmove",Ze.pointerHover)));this._doc=r.document,ue(Oe,this._doc)||ce(this._doc),Pe.push(this),this.set(t)}function le(e,t){var r=!1;return function(){return r||(ye.console.warn(t),r=!0),e.apply(this,arguments)}}function he(e){for(var t=0;t<Me.length;t++)Me[t].pointerEnd(e,e)}function ce(e){if(!ue(Oe,e)){var t=e.defaultView||e.parentWindow;for(var r in ke)Je.add(e,r,se),Je.add(e,r,oe,!0);Te?(ve=Te===t.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"},Je.add(e,ve.down,Ze.selectorDown),Je.add(e,ve.move,Ze.pointerMove),Je.add(e,ve.over,Ze.pointerOver),Je.add(e,ve.out,Ze.pointerOut),Je.add(e,ve.up,Ze.pointerUp),Je.add(e,ve.cancel,Ze.pointerCancel),Je.add(e,ve.move,Ze.autoScrollMove)):(Je.add(e,"mousedown",Ze.selectorDown),Je.add(e,"mousemove",Ze.pointerMove),Je.add(e,"mouseup",Ze.pointerUp),Je.add(e,"mouseover",Ze.pointerOver),Je.add(e,"mouseout",Ze.pointerOut),Je.add(e,"touchstart",Ze.selectorDown),Je.add(e,"touchmove",Ze.pointerMove),Je.add(e,"touchend",Ze.pointerUp),Je.add(e,"touchcancel",Ze.pointerCancel),Je.add(e,"mousemove",Ze.autoScrollMove),Je.add(e,"touchmove",Ze.autoScrollMove)),Je.add(t,"blur",he);try{if(t.frameElement){var i=t.frameElement.ownerDocument,n=i.defaultView;Je.add(i,"mouseup",Ze.pointerEnd),Je.add(i,"touchend",Ze.pointerEnd),Je.add(i,"touchcancel",Ze.pointerEnd),Je.add(i,"pointerup",Ze.pointerEnd),Je.add(i,"MSPointerUp",Ze.pointerEnd),Je.add(n,"blur",he)}}catch(s){ae.windowParentError=s}Je.add(e,"dragstart",function(e){for(var t=0;t<Me.length;t++){var r=Me[t];if(r.element&&(r.element===e.target||j(r.element,e.target)))return void r.checkAndPreventDefault(e,r.target,r.element)}}),Je.useAttachEvent&&(Je.add(e,"selectstart",function(e){var t=Me[0];t.currentAction()&&t.checkAndPreventDefault(e)}),Je.add(e,"dblclick",Q("ie8Dblclick"))),Oe.push(e)}}function de(e,t){for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1}function ue(e,t){return de(e,t)!==-1}function fe(e,t,i){return me?me(e,t,i):(ye!==r&&(t=t.replace(/\/deep\//g," ")),e[Ve](t))}function ge(e,t,r){for(;n(e);){if(fe(e,t))return!0;if(e=q(e),e===r)return fe(e,t)}return!1}if(r){var ve,me,ye=function(){var e=r.document.createTextNode("");return e.ownerDocument!==r.document&&"function"==typeof r.wrap&&r.wrap(e)===e?r.wrap(r):r}(),xe=ye.document,be=ye.DocumentFragment||i,Ee=ye.SVGElement||i,Se=ye.SVGSVGElement||i,we=ye.SVGElementInstance||i,De=ye.HTMLElement||ye.Element,Te=ye.PointerEvent||ye.MSPointerEvent,ze=Math.hypot||function(e,t){return Math.sqrt(e*e+t*t)},Ce={},Oe=[],Pe=[],Me=[],_e=!1,ke={},Ae={base:{accept:null,actionChecker:null,styleCursor:!0,preventDefault:"auto",origin:{x:0,y:0},deltaSource:"page",allowFrom:null,ignoreFrom:null,_context:xe,dropChecker:null},drag:{enabled:!1,manualStart:!0,max:1/0,maxPerElement:1,snap:null,restrict:null,inertia:null,autoScroll:null,axis:"xy"},drop:{enabled:!1,accept:null,overlap:"pointer"},resize:{enabled:!1,manualStart:!1,max:1/0,maxPerElement:1,snap:null,restrict:null,inertia:null,autoScroll:null,square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},gesture:{manualStart:!1,enabled:!1,max:1/0,maxPerElement:1,restrict:null},perAction:{manualStart:!1,max:1/0,maxPerElement:1,snap:{enabled:!1,endOnly:!1,range:1/0,targets:null,offsets:null,relativePoints:null},restrict:{enabled:!1,endOnly:!1},autoScroll:{enabled:!1,container:null,margin:60,speed:300},inertia:{enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,zeroResumeDelta:!0,smoothEndDuration:300}},_holdDuration:600},Re={interaction:null,i:null,x:0,y:0,scroll:function(){var e,t,r,i,n=Re.interaction.target.options[Re.interaction.prepared.name].autoScroll,o=n.container||z(Re.interaction.element),a=(new Date).getTime(),p=(a-Re.prevTimeX)/1e3,l=(a-Re.prevTimeY)/1e3;n.velocity?(e=n.velocity.x,t=n.velocity.y):e=t=n.speed,r=e*p,i=t*l,(r>=1||i>=1)&&(s(o)?o.scrollBy(Re.x*r,Re.y*i):o&&(o.scrollLeft+=Re.x*r,o.scrollTop+=Re.y*i),r>=1&&(Re.prevTimeX=a),i>=1&&(Re.prevTimeY=a)),Re.isScrolling&&(Ke(Re.i),Re.i=$e(Re.scroll))},isScrolling:!1,prevTimeX:0,prevTimeY:0,start:function(e){Re.isScrolling=!0,Ke(Re.i),Re.interaction=e,Re.prevTimeX=(new Date).getTime(),Re.prevTimeY=(new Date).getTime(),Re.i=$e(Re.scroll)},stop:function(){Re.isScrolling=!1,Ke(Re.i)}},Ie="ontouchstart"in ye||ye.DocumentTouch&&xe instanceof ye.DocumentTouch,Ye=!!Te,Xe=Ie||Ye?20:10,je=1,Ne=0,qe=1/0,Fe=xe.all&&!ye.atob?{drag:"move",resizex:"e-resize",resizey:"s-resize",resizexy:"se-resize",resizetop:"n-resize",resizeleft:"w-resize",resizebottom:"s-resize",resizeright:"e-resize",resizetopleft:"se-resize",resizebottomright:"se-resize",resizetopright:"ne-resize",resizebottomleft:"ne-resize",gesture:""}:{drag:"move",resizex:"ew-resize",resizey:"ns-resize",resizexy:"nwse-resize",resizetop:"ns-resize",resizeleft:"ew-resize",resizebottom:"ns-resize",resizeright:"ew-resize",resizetopleft:"nwse-resize",resizebottomright:"nwse-resize",resizetopright:"nesw-resize",resizebottomleft:"nesw-resize",gesture:""},Le={drag:!0,resize:!0,gesture:!0},Be="onmousewheel"in xe?"mousewheel":"wheel",Ue=["dragstart","dragmove","draginertiastart","dragend","dragenter","dragleave","dropactivate","dropdeactivate","dropmove","drop","resizestart","resizemove","resizeinertiastart","resizeend","gesturestart","gesturemove","gestureinertiastart","gestureend","down","move","up","cancel","tap","doubletap","hold"],He={},We="Opera"==navigator.appName&&Ie&&navigator.userAgent.match("Presto"),Ge=/iP(hone|od|ad)/.test(navigator.platform)&&/OS 7[^\d]/.test(navigator.appVersion),Ve="matches"in Element.prototype?"matches":"webkitMatchesSelector"in Element.prototype?"webkitMatchesSelector":"mozMatchesSelector"in Element.prototype?"mozMatchesSelector":"oMatchesSelector"in Element.prototype?"oMatchesSelector":"msMatchesSelector",$e=r.requestAnimationFrame,Ke=r.cancelAnimationFrame,Je=function(){function e(e,t,a,d){var u=de(l,e),f=h[u];if(f||(f={events:{},typeCount:0},u=l.push(e)-1,h.push(f),c.push(s?{supplied:[],wrapped:[],useCount:[]}:null)),f.events[t]||(f.events[t]=[],f.typeCount++),!ue(f.events[t],a)){var g;if(s){var v=c[u],m=de(v.supplied,a),y=v.wrapped[m]||function(t){t.immediatePropagationStopped||(t.target=t.srcElement,t.currentTarget=e,t.preventDefault=t.preventDefault||r,t.stopPropagation=t.stopPropagation||i,t.stopImmediatePropagation=t.stopImmediatePropagation||n,/mouse|click/.test(t.type)&&(t.pageX=t.clientX+z(e).document.documentElement.scrollLeft,t.pageY=t.clientY+z(e).document.documentElement.scrollTop),a(t))};g=e[o](p+t,y,Boolean(d)),m===-1?(v.supplied.push(a),v.wrapped.push(y),v.useCount.push(1)):v.useCount[m]++}else g=e[o](t,a,d||!1);return f.events[t].push(a),g}}function t(e,r,i,n){var o,d,u,f=de(l,e),g=h[f],v=i;if(g&&g.events)if(s&&(d=c[f],u=de(d.supplied,i),v=d.wrapped[u]),"all"!==r){if(g.events[r]){var m=g.events[r].length;if("all"===i){for(o=0;o<m;o++)t(e,r,g.events[r][o],Boolean(n));return}for(o=0;o<m;o++)if(g.events[r][o]===i){e[a](p+r,v,n||!1),g.events[r].splice(o,1),s&&d&&(d.useCount[u]--,0===d.useCount[u]&&(d.supplied.splice(u,1),d.wrapped.splice(u,1),d.useCount.splice(u,1)));break}g.events[r]&&0===g.events[r].length&&(g.events[r]=null,g.typeCount--)}g.typeCount||(h.splice(f,1),l.splice(f,1),c.splice(f,1))}else for(r in g.events)g.events.hasOwnProperty(r)&&t(e,r,"all")}function r(){this.returnValue=!1}function i(){this.cancelBubble=!0}function n(){this.cancelBubble=!0,this.immediatePropagationStopped=!0}var s="attachEvent"in ye&&!("addEventListener"in ye),o=s?"attachEvent":"addEventListener",a=s?"detachEvent":"removeEventListener",p=s?"on":"",l=[],h=[],c=[];return{add:e,remove:t,useAttachEvent:s,_elements:l,_targets:h,_attachedListeners:c}}(),Qe={webkit:/(Movement[XY]|Radius[XY]|RotationAngle|Force)$/};K.prototype={getPageXY:function(e,t){return E(e,t,this)},getClientXY:function(e,t){return S(e,t,this)},setEventXY:function(e,t){return m(e,t,this)},pointerOver:function(e,t,r){function i(e,t){e&&F(e,r)&&!L(e,r,r)&&B(e,r,r)&&fe(r,t)&&(n.push(e),s.push(r))}if(!this.prepared.name&&this.mouse){var n=[],s=[],o=this.element;this.addPointer(e),!this.target||!L(this.target,this.element,r)&&B(this.target,this.element,r)||(this.target=null,this.element=null,this.matches=[],this.matchElements=[]);var a=Pe.get(r),p=a&&!L(a,r,r)&&B(a,r,r)&&ne(a.getAction(e,t,this,r),a);p&&!V(a,r,p)&&(p=null),p?(this.target=a,this.element=r,this.matches=[],this.matchElements=[]):(Pe.forEachSelector(i),this.validateSelector(e,t,n,s)?(this.matches=n,this.matchElements=s,this.pointerHover(e,t,this.matches,this.matchElements),Je.add(r,Te?ve.move:"mousemove",Ze.pointerHover)):this.target&&(j(o,r)?(this.pointerHover(e,t,this.matches,this.matchElements),Je.add(this.element,Te?ve.move:"mousemove",Ze.pointerHover)):(this.target=null,this.element=null,this.matches=[],this.matchElements=[])))}},pointerHover:function(e,t,r,i,n,s){var o=this.target;if(!this.prepared.name&&this.mouse){var a;this.setEventXY(this.curCoords,[e]),n?a=this.validateSelector(e,t,n,s):o&&(a=ne(o.getAction(this.pointers[0],t,this,this.element),this.target)),o&&o.options.styleCursor&&(a?o._doc.documentElement.style.cursor=te(a):o._doc.documentElement.style.cursor="")}else this.prepared.name&&this.checkAndPreventDefault(t,o,this.element)},pointerOut:function(e,t,r){this.prepared.name||(Pe.get(r)||Je.remove(r,Te?ve.move:"mousemove",Ze.pointerHover),this.target&&this.target.options.styleCursor&&!this.interacting()&&(this.target._doc.documentElement.style.cursor=""))},selectorDown:function(e,t,r,i){function s(e,t,i){var n=me?i.querySelectorAll(t):void 0;F(e,l)&&!L(e,l,r)&&B(e,l,r)&&fe(l,t,n)&&(a.matches.push(e),a.matchElements.push(l))}var o,a=this,p=Je.useAttachEvent?f({},t):t,l=r,h=this.addPointer(e);if(this.holdTimers[h]=setTimeout(function(){a.pointerHold(Je.useAttachEvent?p:e,p,r,i)},Ae._holdDuration),this.pointerIsDown=!0,this.inertiaStatus.active&&this.target.selector)for(;n(l);){if(l===this.element&&ne(this.target.getAction(e,t,this,this.element),this.target).name===this.prepared.name)return Ke(this.inertiaStatus.i),this.inertiaStatus.active=!1,void this.collectEventTargets(e,t,r,"down");l=q(l)}if(this.interacting())return void this.collectEventTargets(e,t,r,"down");
for(this.setEventXY(this.curCoords,[e]),this.downEvent=t;n(l)&&!o;)this.matches=[],this.matchElements=[],Pe.forEachSelector(s),o=this.validateSelector(e,t,this.matches,this.matchElements),l=q(l);return o?(this.prepared.name=o.name,this.prepared.axis=o.axis,this.prepared.edges=o.edges,this.collectEventTargets(e,t,r,"down"),this.pointerDown(e,t,r,i,o)):(this.downTimes[h]=(new Date).getTime(),this.downTargets[h]=r,g(this.downPointer,e),v(this.prevCoords,this.curCoords),this.pointerWasMoved=!1,void this.collectEventTargets(e,t,r,"down"))},pointerDown:function(e,t,r,i,n){if(!n&&!this.inertiaStatus.active&&this.pointerWasMoved&&this.prepared.name)return void this.checkAndPreventDefault(t,this.target,this.element);this.pointerIsDown=!0,this.downEvent=t;var s,o=this.addPointer(e);if(this.pointerIds.length>1&&this.target._element===this.element){var a=ne(n||this.target.getAction(e,t,this,this.element),this.target);V(this.target,this.element,a)&&(s=a),this.prepared.name=null}else if(!this.prepared.name){var p=Pe.get(i);p&&!L(p,i,r)&&B(p,i,r)&&(s=ne(n||p.getAction(e,t,this,i),p,r))&&V(p,i,s)&&(this.target=p,this.element=i)}var l=this.target,h=l&&l.options;if(!l||!n&&this.prepared.name)this.inertiaStatus.active&&i===this.element&&ne(l.getAction(e,t,this,this.element),l).name===this.prepared.name&&(Ke(this.inertiaStatus.i),this.inertiaStatus.active=!1,this.checkAndPreventDefault(t,l,this.element));else{if(s=s||ne(n||l.getAction(e,t,this,i),l,this.element),this.setEventXY(this.startCoords,this.pointers),!s)return;h.styleCursor&&(l._doc.documentElement.style.cursor=te(s)),this.resizeAxes="resize"===s.name?s.axis:null,"gesture"===s&&this.pointerIds.length<2&&(s=null),this.prepared.name=s.name,this.prepared.axis=s.axis,this.prepared.edges=s.edges,this.snapStatus.snappedX=this.snapStatus.snappedY=this.restrictStatus.restrictedX=this.restrictStatus.restrictedY=NaN,this.downTimes[o]=(new Date).getTime(),this.downTargets[o]=r,g(this.downPointer,e),v(this.prevCoords,this.startCoords),this.pointerWasMoved=!1,this.checkAndPreventDefault(t,l,this.element)}},setModifications:function(e,t){var r=this.target,i=!0,n=H(r,this.prepared.name)&&(!r.options[this.prepared.name].snap.endOnly||t),s=W(r,this.prepared.name)&&(!r.options[this.prepared.name].restrict.endOnly||t);return n?this.setSnapping(e):this.snapStatus.locked=!1,s?this.setRestriction(e):this.restrictStatus.restricted=!1,n&&this.snapStatus.locked&&!this.snapStatus.changed?i=s&&this.restrictStatus.restricted&&this.restrictStatus.changed:s&&this.restrictStatus.restricted&&!this.restrictStatus.changed&&(i=!1),i},setStartOffsets:function(e,t,r){var i,n,s=t.getRect(r),o=R(t,r),a=t.options[this.prepared.name].snap,p=t.options[this.prepared.name].restrict;s?(this.startOffset.left=this.startCoords.page.x-s.left,this.startOffset.top=this.startCoords.page.y-s.top,this.startOffset.right=s.right-this.startCoords.page.x,this.startOffset.bottom=s.bottom-this.startCoords.page.y,i="width"in s?s.width:s.right-s.left,n="height"in s?s.height:s.bottom-s.top):this.startOffset.left=this.startOffset.top=this.startOffset.right=this.startOffset.bottom=0,this.snapOffsets.splice(0);var l=a&&"startCoords"===a.offset?{x:this.startCoords.page.x-o.x,y:this.startCoords.page.y-o.y}:a&&a.offset||{x:0,y:0};if(s&&a&&a.relativePoints&&a.relativePoints.length)for(var h=0;h<a.relativePoints.length;h++)this.snapOffsets.push({x:this.startOffset.left-i*a.relativePoints[h].x+l.x,y:this.startOffset.top-n*a.relativePoints[h].y+l.y});else this.snapOffsets.push(l);s&&p.elementRect?(this.restrictOffset.left=this.startOffset.left-i*p.elementRect.left,this.restrictOffset.top=this.startOffset.top-n*p.elementRect.top,this.restrictOffset.right=this.startOffset.right-i*(1-p.elementRect.right),this.restrictOffset.bottom=this.startOffset.bottom-n*(1-p.elementRect.bottom)):this.restrictOffset.left=this.restrictOffset.top=this.restrictOffset.right=this.restrictOffset.bottom=0},start:function(e,t,r){this.interacting()||!this.pointerIsDown||this.pointerIds.length<("gesture"===e.name?2:1)||(de(Me,this)===-1&&Me.push(this),this.prepared.name||this.setEventXY(this.startCoords),this.prepared.name=e.name,this.prepared.axis=e.axis,this.prepared.edges=e.edges,this.target=t,this.element=r,this.setStartOffsets(e.name,t,r),this.setModifications(this.startCoords.page),this.prevEvent=this[this.prepared.name+"Start"](this.downEvent))},pointerMove:function(e,t,r,i,s){if(this.inertiaStatus.active){var o=this.inertiaStatus.upCoords.page,a=this.inertiaStatus.upCoords.client,p={pageX:o.x+this.inertiaStatus.sx,pageY:o.y+this.inertiaStatus.sy,clientX:a.x+this.inertiaStatus.sx,clientY:a.y+this.inertiaStatus.sy};this.setEventXY(this.curCoords,[p])}else this.recordPointer(e),this.setEventXY(this.curCoords,this.pointers);var l,h,c=this.curCoords.page.x===this.prevCoords.page.x&&this.curCoords.page.y===this.prevCoords.page.y&&this.curCoords.client.x===this.prevCoords.client.x&&this.curCoords.client.y===this.prevCoords.client.y,d=this.mouse?0:de(this.pointerIds,D(e));if(this.pointerIsDown&&!this.pointerWasMoved&&(l=this.curCoords.client.x-this.startCoords.client.x,h=this.curCoords.client.y-this.startCoords.client.y,this.pointerWasMoved=ze(l,h)>je),c||this.pointerIsDown&&!this.pointerWasMoved||(this.pointerIsDown&&clearTimeout(this.holdTimers[d]),this.collectEventTargets(e,t,r,"move")),this.pointerIsDown){if(c&&this.pointerWasMoved&&!s)return void this.checkAndPreventDefault(t,this.target,this.element);if(y(this.pointerDelta,this.prevCoords,this.curCoords),this.prepared.name){if(this.pointerWasMoved&&(!this.inertiaStatus.active||e instanceof Z&&/inertiastart/.test(e.type))){if(!this.interacting()&&(y(this.pointerDelta,this.prevCoords,this.curCoords),"drag"===this.prepared.name)){var u=Math.abs(l),f=Math.abs(h),g=this.target.options.drag.axis,m=u>f?"x":u<f?"y":"xy";if("xy"!==m&&"xy"!==g&&g!==m){this.prepared.name=null;for(var x=r;n(x);){var b=Pe.get(x);if(b&&b!==this.target&&!b.options.drag.manualStart&&"drag"===b.getAction(this.downPointer,this.downEvent,this,x).name&&U(m,b)){this.prepared.name="drag",this.target=b,this.element=x;break}x=q(x)}if(!this.prepared.name){var E=this,S=function(e,t,i){var n=me?i.querySelectorAll(t):void 0;if(e!==E.target)return F(e,r)&&!e.options.drag.manualStart&&!L(e,x,r)&&B(e,x,r)&&fe(x,t,n)&&"drag"===e.getAction(E.downPointer,E.downEvent,E,x).name&&U(m,e)&&V(e,x,"drag")?e:void 0};for(x=r;n(x);){var w=Pe.forEachSelector(S);if(w){this.prepared.name="drag",this.target=w,this.element=x;break}x=q(x)}}}}var T=!!this.prepared.name&&!this.interacting();if(T&&(this.target.options[this.prepared.name].manualStart||!V(this.target,this.element,this.prepared)))return void this.stop(t);if(this.prepared.name&&this.target){T&&this.start(this.prepared,this.target,this.element);var z=this.setModifications(this.curCoords.page,s);(z||T)&&(this.prevEvent=this[this.prepared.name+"Move"](t)),this.checkAndPreventDefault(t,this.target,this.element)}}v(this.prevCoords,this.curCoords),(this.dragging||this.resizing)&&this.autoScrollMove(e)}}},dragStart:function(e){var t=new Z(this,e,"drag","start",this.element);this.dragging=!0,this.target.fire(t),this.activeDrops.dropzones=[],this.activeDrops.elements=[],this.activeDrops.rects=[],this.dynamicDrop||this.setActiveDrops(this.element);var r=this.getDropEvents(e,t);return r.activate&&this.fireActiveDrops(r.activate),t},dragMove:function(e){var t=this.target,r=new Z(this,e,"drag","move",this.element),i=this.element,n=this.getDrop(r,e,i);this.dropTarget=n.dropzone,this.dropElement=n.element;var s=this.getDropEvents(e,r);return t.fire(r),s.leave&&this.prevDropTarget.fire(s.leave),s.enter&&this.dropTarget.fire(s.enter),s.move&&this.dropTarget.fire(s.move),this.prevDropTarget=this.dropTarget,this.prevDropElement=this.dropElement,r},resizeStart:function(e){var t=new Z(this,e,"resize","start",this.element);if(this.prepared.edges){var r=this.target.getRect(this.element);if(this.target.options.resize.square||this.target.options.resize.preserveAspectRatio){var i=f({},this.prepared.edges);i.top=i.top||i.left&&!i.bottom,i.left=i.left||i.top&&!i.right,i.bottom=i.bottom||i.right&&!i.top,i.right=i.right||i.bottom&&!i.left,this.prepared._linkedEdges=i}else this.prepared._linkedEdges=null;this.target.options.resize.preserveAspectRatio&&(this.resizeStartAspectRatio=r.width/r.height),this.resizeRects={start:r,current:f({},r),restricted:f({},r),previous:f({},r),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},t.rect=this.resizeRects.restricted,t.deltaRect=this.resizeRects.delta}return this.target.fire(t),this.resizing=!0,t},resizeMove:function(e){var t=new Z(this,e,"resize","move",this.element),r=this.prepared.edges,i=this.target.options.resize.invert,n="reposition"===i||"negate"===i;if(r){var s=t.dx,o=t.dy,a=this.resizeRects.start,p=this.resizeRects.current,l=this.resizeRects.restricted,h=this.resizeRects.delta,c=f(this.resizeRects.previous,l),d=r;if(this.target.options.resize.preserveAspectRatio){var u=this.resizeStartAspectRatio;r=this.prepared._linkedEdges,d.left&&d.bottom||d.right&&d.top?o=-s/u:d.left||d.right?o=s/u:(d.top||d.bottom)&&(s=o*u)}else this.target.options.resize.square&&(r=this.prepared._linkedEdges,d.left&&d.bottom||d.right&&d.top?o=-s:d.left||d.right?o=s:(d.top||d.bottom)&&(s=o));if(r.top&&(p.top+=o),r.bottom&&(p.bottom+=o),r.left&&(p.left+=s),r.right&&(p.right+=s),n){if(f(l,p),"reposition"===i){var g;l.top>l.bottom&&(g=l.top,l.top=l.bottom,l.bottom=g),l.left>l.right&&(g=l.left,l.left=l.right,l.right=g)}}else l.top=Math.min(p.top,a.bottom),l.bottom=Math.max(p.bottom,a.top),l.left=Math.min(p.left,a.right),l.right=Math.max(p.right,a.left);l.width=l.right-l.left,l.height=l.bottom-l.top;for(var v in l)h[v]=l[v]-c[v];t.edges=this.prepared.edges,t.rect=l,t.deltaRect=h}return this.target.fire(t),t},gestureStart:function(e){var t=new Z(this,e,"gesture","start",this.element);return t.ds=0,this.gesture.startDistance=this.gesture.prevDistance=t.distance,this.gesture.startAngle=this.gesture.prevAngle=t.angle,this.gesture.scale=1,this.gesturing=!0,this.target.fire(t),t},gestureMove:function(e){if(!this.pointerIds.length)return this.prevEvent;var t;return t=new Z(this,e,"gesture","move",this.element),t.ds=t.scale-this.gesture.scale,this.target.fire(t),this.gesture.prevAngle=t.angle,this.gesture.prevDistance=t.distance,t.scale===1/0||null===t.scale||void 0===t.scale||isNaN(t.scale)||(this.gesture.scale=t.scale),t},pointerHold:function(e,t,r){this.collectEventTargets(e,t,r,"hold")},pointerUp:function(e,t,r,i){var n=this.mouse?0:de(this.pointerIds,D(e));clearTimeout(this.holdTimers[n]),this.collectEventTargets(e,t,r,"up"),this.collectEventTargets(e,t,r,"tap"),this.pointerEnd(e,t,r,i),this.removePointer(e)},pointerCancel:function(e,t,r,i){var n=this.mouse?0:de(this.pointerIds,D(e));clearTimeout(this.holdTimers[n]),this.collectEventTargets(e,t,r,"cancel"),this.pointerEnd(e,t,r,i),this.removePointer(e)},ie8Dblclick:function(e,t,r){this.prevTap&&t.clientX===this.prevTap.clientX&&t.clientY===this.prevTap.clientY&&r===this.prevTap.target&&(this.downTargets[0]=r,this.downTimes[0]=(new Date).getTime(),this.collectEventTargets(e,t,r,"tap"))},pointerEnd:function(e,t,r,i){var n,s=this.target,o=s&&s.options,a=o&&this.prepared.name&&o[this.prepared.name].inertia,p=this.inertiaStatus;if(this.interacting()){if(p.active&&!p.ending)return;var l,h,c=(new Date).getTime(),d=!1,u=!1,g=!1,m=H(s,this.prepared.name)&&o[this.prepared.name].snap.endOnly,y=W(s,this.prepared.name)&&o[this.prepared.name].restrict.endOnly,x=0,b=0;if(l=this.dragging?"x"===o.drag.axis?Math.abs(this.pointerDelta.client.vx):"y"===o.drag.axis?Math.abs(this.pointerDelta.client.vy):this.pointerDelta.client.speed:this.pointerDelta.client.speed,d=a&&a.enabled&&"gesture"!==this.prepared.name&&t!==p.startEvent,u=d&&c-this.curCoords.timeStamp<50&&l>a.minSpeed&&l>a.endSpeed,d&&!u&&(m||y)){var E={};E.snap=E.restrict=E,m&&(this.setSnapping(this.curCoords.page,E),E.locked&&(x+=E.dx,b+=E.dy)),y&&(this.setRestriction(this.curCoords.page,E),E.restricted&&(x+=E.dx,b+=E.dy)),(x||b)&&(g=!0)}if(u||g){if(v(p.upCoords,this.curCoords),this.pointers[0]=p.startEvent=h=new Z(this,t,this.prepared.name,"inertiastart",this.element),p.t0=c,s.fire(p.startEvent),u){p.vx0=this.pointerDelta.client.vx,p.vy0=this.pointerDelta.client.vy,p.v0=l,this.calcInertia(p);var S,w=f({},this.curCoords.page),D=R(s,this.element);if(w.x=w.x+p.xe-D.x,w.y=w.y+p.ye-D.y,S={useStatusXY:!0,x:w.x,y:w.y,dx:0,dy:0,snap:null},S.snap=S,x=b=0,m){var T=this.setSnapping(this.curCoords.page,S);T.locked&&(x+=T.dx,b+=T.dy)}if(y){var z=this.setRestriction(this.curCoords.page,S);z.restricted&&(x+=z.dx,b+=z.dy)}p.modifiedXe+=x,p.modifiedYe+=b,p.i=$e(this.boundInertiaFrame)}else p.smoothEnd=!0,p.xe=x,p.ye=b,p.sx=p.sy=0,p.i=$e(this.boundSmoothEndFrame);return void(p.active=!0)}(m||y)&&this.pointerMove(e,t,r,i,!0)}if(this.dragging){n=new Z(this,t,"drag","end",this.element);var C=this.element,O=this.getDrop(n,t,C);this.dropTarget=O.dropzone,this.dropElement=O.element;var P=this.getDropEvents(t,n);P.leave&&this.prevDropTarget.fire(P.leave),P.enter&&this.dropTarget.fire(P.enter),P.drop&&this.dropTarget.fire(P.drop),P.deactivate&&this.fireActiveDrops(P.deactivate),s.fire(n)}else this.resizing?(n=new Z(this,t,"resize","end",this.element),s.fire(n)):this.gesturing&&(n=new Z(this,t,"gesture","end",this.element),s.fire(n));this.stop(t)},collectDrops:function(e){var t,r=[],i=[];for(e=e||this.element,t=0;t<Pe.length;t++)if(Pe[t].options.drop.enabled){var s=Pe[t],o=s.options.drop.accept;if(!(n(o)&&o!==e||d(o)&&!fe(e,o)))for(var a=s.selector?s._context.querySelectorAll(s.selector):[s._element],p=0,l=a.length;p<l;p++){var h=a[p];h!==e&&(r.push(s),i.push(h))}}return{dropzones:r,elements:i}},fireActiveDrops:function(e){var t,r,i,n;for(t=0;t<this.activeDrops.dropzones.length;t++)r=this.activeDrops.dropzones[t],i=this.activeDrops.elements[t],i!==n&&(e.target=i,r.fire(e)),n=i},setActiveDrops:function(e){var t=this.collectDrops(e,!0);this.activeDrops.dropzones=t.dropzones,this.activeDrops.elements=t.elements,this.activeDrops.rects=[];for(var r=0;r<this.activeDrops.dropzones.length;r++)this.activeDrops.rects[r]=this.activeDrops.dropzones[r].getRect(this.activeDrops.elements[r])},getDrop:function(e,t,r){var i=[];_e&&this.setActiveDrops(r);for(var n=0;n<this.activeDrops.dropzones.length;n++){var s=this.activeDrops.dropzones[n],o=this.activeDrops.elements[n],a=this.activeDrops.rects[n];i.push(s.dropCheck(e,t,this.target,r,o,a)?o:null)}var p=$(i),l=this.activeDrops.dropzones[p]||null,h=this.activeDrops.elements[p]||null;return{dropzone:l,element:h}},getDropEvents:function(e,t){var r={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return this.dropElement!==this.prevDropElement&&(this.prevDropTarget&&(r.leave={target:this.prevDropElement,dropzone:this.prevDropTarget,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"dragleave"},t.dragLeave=this.prevDropElement,t.prevDropzone=this.prevDropTarget),this.dropTarget&&(r.enter={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"dragenter"},t.dragEnter=this.dropElement,t.dropzone=this.dropTarget)),"dragend"===t.type&&this.dropTarget&&(r.drop={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"drop"},t.dropzone=this.dropTarget),"dragstart"===t.type&&(r.activate={target:null,dropzone:null,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"dropactivate"}),"dragend"===t.type&&(r.deactivate={target:null,dropzone:null,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"dropdeactivate"}),"dragmove"===t.type&&this.dropTarget&&(r.move={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,dragmove:t,timeStamp:t.timeStamp,type:"dropmove"},t.dropzone=this.dropTarget),r},currentAction:function(){return this.dragging&&"drag"||this.resizing&&"resize"||this.gesturing&&"gesture"||null},interacting:function(){return this.dragging||this.resizing||this.gesturing},clearTargets:function(){this.target=this.element=null,this.dropTarget=this.dropElement=this.prevDropTarget=this.prevDropElement=null},stop:function(e){if(this.interacting()){Re.stop(),this.matches=[],this.matchElements=[];var t=this.target;t.options.styleCursor&&(t._doc.documentElement.style.cursor=""),e&&l(e.preventDefault)&&this.checkAndPreventDefault(e,t,this.element),this.dragging&&(this.activeDrops.dropzones=this.activeDrops.elements=this.activeDrops.rects=null)}this.clearTargets(),this.pointerIsDown=this.snapStatus.locked=this.dragging=this.resizing=this.gesturing=!1,this.prepared.name=this.prevEvent=null,this.inertiaStatus.resumeDx=this.inertiaStatus.resumeDy=0;for(var r=0;r<this.pointers.length;r++)de(this.pointerIds,D(this.pointers[r]))===-1&&this.pointers.splice(r,1)},inertiaFrame:function(){var e=this.inertiaStatus,t=this.target.options[this.prepared.name].inertia,r=t.resistance,i=(new Date).getTime()/1e3-e.t0;if(i<e.te){var n=1-(Math.exp(-r*i)-e.lambda_v0)/e.one_ve_v0;if(e.modifiedXe===e.xe&&e.modifiedYe===e.ye)e.sx=e.xe*n,e.sy=e.ye*n;else{var s=Y(0,0,e.xe,e.ye,e.modifiedXe,e.modifiedYe,n);e.sx=s.x,e.sy=s.y}this.pointerMove(e.startEvent,e.startEvent),e.i=$e(this.boundInertiaFrame)}else e.ending=!0,e.sx=e.modifiedXe,e.sy=e.modifiedYe,this.pointerMove(e.startEvent,e.startEvent),this.pointerEnd(e.startEvent,e.startEvent),e.active=e.ending=!1},smoothEndFrame:function(){var e=this.inertiaStatus,t=(new Date).getTime()-e.t0,r=this.target.options[this.prepared.name].inertia.smoothEndDuration;t<r?(e.sx=X(t,0,e.xe,r),e.sy=X(t,0,e.ye,r),this.pointerMove(e.startEvent,e.startEvent),e.i=$e(this.boundSmoothEndFrame)):(e.ending=!0,e.sx=e.xe,e.sy=e.ye,this.pointerMove(e.startEvent,e.startEvent),this.pointerEnd(e.startEvent,e.startEvent),e.smoothEnd=e.active=e.ending=!1)},addPointer:function(e){var t=D(e),r=this.mouse?0:de(this.pointerIds,t);return r===-1&&(r=this.pointerIds.length),this.pointerIds[r]=t,this.pointers[r]=e,r},removePointer:function(e){var t=D(e),r=this.mouse?0:de(this.pointerIds,t);r!==-1&&(this.pointers.splice(r,1),this.pointerIds.splice(r,1),this.downTargets.splice(r,1),this.downTimes.splice(r,1),this.holdTimers.splice(r,1))},recordPointer:function(e){var t=this.mouse?0:de(this.pointerIds,D(e));t!==-1&&(this.pointers[t]=e)},collectEventTargets:function(e,t,r,i){function s(e,t,s){var o=me?s.querySelectorAll(t):void 0;e._iEvents[i]&&n(l)&&F(e,l)&&!L(e,l,r)&&B(e,l,r)&&fe(l,t,o)&&(a.push(e),p.push(l))}var o=this.mouse?0:de(this.pointerIds,D(e));if("tap"!==i||!this.pointerWasMoved&&this.downTargets[o]&&this.downTargets[o]===r){for(var a=[],p=[],l=r;l;)ae.isSet(l)&&ae(l)._iEvents[i]&&(a.push(ae(l)),p.push(l)),Pe.forEachSelector(s),l=q(l);(a.length||"tap"===i)&&this.firePointers(e,t,r,a,p,i)}},firePointers:function(e,t,r,i,n,s){var o,a,p,l=this.mouse?0:de(this.pointerIds,D(e)),h={};for("doubletap"===s?h=e:(g(h,t),t!==e&&g(h,e),h.preventDefault=ee,h.stopPropagation=Z.prototype.stopPropagation,h.stopImmediatePropagation=Z.prototype.stopImmediatePropagation,h.interaction=this,h.timeStamp=(new Date).getTime(),h.originalEvent=t,h.originalPointer=e,h.type=s,h.pointerId=D(e),h.pointerType=this.mouse?"mouse":Ye?d(e.pointerType)?e.pointerType:[,,"touch","pen","mouse"][e.pointerType]:"touch"),"tap"===s&&(h.dt=h.timeStamp-this.downTimes[l],a=h.timeStamp-this.tapTime,p=!!(this.prevTap&&"doubletap"!==this.prevTap.type&&this.prevTap.target===h.target&&a<500),h["double"]=p,this.tapTime=h.timeStamp),o=0;o<i.length&&(h.currentTarget=n[o],h.interactable=i[o],i[o].fire(h),!(h.immediatePropagationStopped||h.propagationStopped&&n[o+1]!==h.currentTarget));o++);if(p){var c={};f(c,h),c.dt=a,c.type="doubletap",this.collectEventTargets(c,t,r,"doubletap"),this.prevTap=c}else"tap"===s&&(this.prevTap=h)},validateSelector:function(e,t,r,i){for(var n=0,s=r.length;n<s;n++){var o=r[n],a=i[n],p=ne(o.getAction(e,t,this,a),o);if(p&&V(o,a,p))return this.target=o,this.element=a,p}},setSnapping:function(e,t){var r,i,n,s=this.target.options[this.prepared.name].snap,o=[];if(t=t||this.snapStatus,t.useStatusXY)i={x:t.x,y:t.y};else{var a=R(this.target,this.element);i=f({},e),i.x-=a.x,i.y-=a.y}t.realX=i.x,t.realY=i.y,i.x=i.x-this.inertiaStatus.resumeDx,i.y=i.y-this.inertiaStatus.resumeDy;for(var p=s.targets?s.targets.length:0,c=0;c<this.snapOffsets.length;c++){var d={x:i.x-this.snapOffsets[c].x,y:i.y-this.snapOffsets[c].y};for(n=0;n<p;n++)r=l(s.targets[n])?s.targets[n](d.x,d.y,this):s.targets[n],r&&o.push({x:h(r.x)?r.x+this.snapOffsets[c].x:d.x,y:h(r.y)?r.y+this.snapOffsets[c].y:d.y,range:h(r.range)?r.range:s.range})}var u={target:null,inRange:!1,distance:0,range:0,dx:0,dy:0};for(n=0,p=o.length;n<p;n++){r=o[n];var g=r.range,v=r.x-i.x,m=r.y-i.y,y=ze(v,m),x=y<=g;g===1/0&&u.inRange&&u.range!==1/0&&(x=!1),u.target&&!(x?u.inRange&&g!==1/0?y/g<u.distance/u.range:g===1/0&&u.range!==1/0||y<u.distance:!u.inRange&&y<u.distance)||(g===1/0&&(x=!0),u.target=r,u.distance=y,u.range=g,u.inRange=x,u.dx=v,u.dy=m,t.range=g)}var b;return u.target?(b=t.snappedX!==u.target.x||t.snappedY!==u.target.y,t.snappedX=u.target.x,t.snappedY=u.target.y):(b=!0,t.snappedX=NaN,t.snappedY=NaN),t.dx=u.dx,t.dy=u.dy,t.changed=b||u.inRange&&!t.locked,t.locked=u.inRange,t},setRestriction:function(e,t){var r,i=this.target,s=i&&i.options[this.prepared.name].restrict,o=s&&s.restriction;if(!o)return t;t=t||this.restrictStatus,r=r=t.useStatusXY?{x:t.x,y:t.y}:f({},e),t.snap&&t.snap.locked&&(r.x+=t.snap.dx||0,r.y+=t.snap.dy||0),r.x-=this.inertiaStatus.resumeDx,r.y-=this.inertiaStatus.resumeDy,t.dx=0,t.dy=0,t.restricted=!1;var a,p,h;return d(o)&&(o="parent"===o?q(this.element):"self"===o?i.getRect(this.element):N(this.element,o),!o)?t:(l(o)&&(o=o(r.x,r.y,this.element)),n(o)&&(o=O(o)),a=o,o?"x"in o&&"y"in o?(p=Math.max(Math.min(a.x+a.width-this.restrictOffset.right,r.x),a.x+this.restrictOffset.left),h=Math.max(Math.min(a.y+a.height-this.restrictOffset.bottom,r.y),a.y+this.restrictOffset.top)):(p=Math.max(Math.min(a.right-this.restrictOffset.right,r.x),a.left+this.restrictOffset.left),h=Math.max(Math.min(a.bottom-this.restrictOffset.bottom,r.y),a.top+this.restrictOffset.top)):(p=r.x,h=r.y),t.dx=p-r.x,t.dy=h-r.y,t.changed=t.restrictedX!==p||t.restrictedY!==h,t.restricted=!(!t.dx&&!t.dy),t.restrictedX=p,t.restrictedY=h,t)},checkAndPreventDefault:function(e,t,r){if(t=t||this.target){var i=t.options,n=i.preventDefault;if("auto"===n&&r&&!/^(input|select|textarea)$/i.test(e.target.nodeName)){if(/down|start/i.test(e.type)&&"drag"===this.prepared.name&&"xy"!==i.drag.axis)return;if(i[this.prepared.name]&&i[this.prepared.name].manualStart&&!this.interacting())return;return void e.preventDefault()}return"always"===n?void e.preventDefault():void 0}},calcInertia:function(e){var t=this.target.options[this.prepared.name].inertia,r=t.resistance,i=-Math.log(t.endSpeed/e.v0)/r;e.x0=this.prevEvent.pageX,e.y0=this.prevEvent.pageY,e.t0=e.startEvent.timeStamp/1e3,e.sx=e.sy=0,e.modifiedXe=e.xe=(e.vx0-i)/r,e.modifiedYe=e.ye=(e.vy0-i)/r,e.te=i,e.lambda_v0=r/e.v0,e.one_ve_v0=1-t.endSpeed/e.v0},autoScrollMove:function(e){if(this.interacting()&&G(this.target,this.prepared.name)){if(this.inertiaStatus.active)return void(Re.x=Re.y=0);var t,r,i,n,o=this.target.options[this.prepared.name].autoScroll,a=o.container||z(this.element);if(s(a))n=e.clientX<Re.margin,t=e.clientY<Re.margin,r=e.clientX>a.innerWidth-Re.margin,i=e.clientY>a.innerHeight-Re.margin;else{var p=C(a);n=e.clientX<p.left+Re.margin,t=e.clientY<p.top+Re.margin,r=e.clientX>p.right-Re.margin,i=e.clientY>p.bottom-Re.margin}Re.x=r?1:n?-1:0,Re.y=i?1:t?-1:0,Re.isScrolling||(Re.margin=o.margin,Re.speed=o.speed,Re.start(this))}},_updateEventTargets:function(e,t){this._eventTarget=e,this._curEventTarget=t}},Z.prototype={preventDefault:i,stopImmediatePropagation:function(){this.immediatePropagationStopped=this.propagationStopped=!0},stopPropagation:function(){this.propagationStopped=!0}};for(var Ze={},et=["dragStart","dragMove","resizeStart","resizeMove","gestureStart","gestureMove","pointerOver","pointerOut","pointerHover","selectorDown","pointerDown","pointerMove","pointerUp","pointerCancel","pointerEnd","addPointer","removePointer","recordPointer","autoScrollMove"],tt=0,rt=et.length;tt<rt;tt++){var it=et[tt];Ze[it]=Q(it)}Pe.indexOfElement=function(e,t){t=t||xe;for(var r=0;r<this.length;r++){var i=this[r];if(i.selector===e&&i._context===t||!i.selector&&i._element===e)return r}return-1},Pe.get=function(e,t){return this[this.indexOfElement(e,t&&t.context)]},Pe.forEachSelector=function(e){for(var t=0;t<this.length;t++){var r=this[t];if(r.selector){var i=e(r,r.selector,r._context,t,this);if(void 0!==i)return i}}},pe.prototype={setOnEvents:function(e,t){return"drop"===e?(l(t.ondrop)&&(this.ondrop=t.ondrop),l(t.ondropactivate)&&(this.ondropactivate=t.ondropactivate),l(t.ondropdeactivate)&&(this.ondropdeactivate=t.ondropdeactivate),l(t.ondragenter)&&(this.ondragenter=t.ondragenter),l(t.ondragleave)&&(this.ondragleave=t.ondragleave),l(t.ondropmove)&&(this.ondropmove=t.ondropmove)):(e="on"+e,l(t.onstart)&&(this[e+"start"]=t.onstart),l(t.onmove)&&(this[e+"move"]=t.onmove),l(t.onend)&&(this[e+"end"]=t.onend),l(t.oninertiastart)&&(this[e+"inertiastart"]=t.oninertiastart)),this},draggable:function(e){return p(e)?(this.options.drag.enabled=e.enabled!==!1,this.setPerAction("drag",e),this.setOnEvents("drag",e),/^x$|^y$|^xy$/.test(e.axis)?this.options.drag.axis=e.axis:null===e.axis&&delete this.options.drag.axis,this):c(e)?(this.options.drag.enabled=e,this):this.options.drag},setPerAction:function(e,t){for(var r in t)r in Ae[e]&&(p(t[r])?(this.options[e][r]=f(this.options[e][r]||{},t[r]),p(Ae.perAction[r])&&"enabled"in Ae.perAction[r]&&(this.options[e][r].enabled=t[r].enabled!==!1)):c(t[r])&&p(Ae.perAction[r])?this.options[e][r].enabled=t[r]:void 0!==t[r]&&(this.options[e][r]=t[r]))},dropzone:function(e){return p(e)?(this.options.drop.enabled=e.enabled!==!1,this.setOnEvents("drop",e),/^(pointer|center)$/.test(e.overlap)?this.options.drop.overlap=e.overlap:h(e.overlap)&&(this.options.drop.overlap=Math.max(Math.min(1,e.overlap),0)),"accept"in e&&(this.options.drop.accept=e.accept),"checker"in e&&(this.options.drop.checker=e.checker),this):c(e)?(this.options.drop.enabled=e,this):this.options.drop},dropCheck:function(e,t,r,i,n,s){var o=!1;if(!(s=s||this.getRect(n)))return!!this.options.drop.checker&&this.options.drop.checker(e,t,o,this,n,r,i);var a=this.options.drop.overlap;if("pointer"===a){var p,l,c=E(e),d=R(r,i);c.x+=d.x,c.y+=d.y,p=c.x>s.left&&c.x<s.right,l=c.y>s.top&&c.y<s.bottom,o=p&&l}var u=r.getRect(i);if("center"===a){var f=u.left+u.width/2,g=u.top+u.height/2;o=f>=s.left&&f<=s.right&&g>=s.top&&g<=s.bottom}if(h(a)){var v=Math.max(0,Math.min(s.right,u.right)-Math.max(s.left,u.left))*Math.max(0,Math.min(s.bottom,u.bottom)-Math.max(s.top,u.top)),m=v/(u.width*u.height);o=m>=a}return this.options.drop.checker&&(o=this.options.drop.checker(e,t,o,this,n,r,i)),o},dropChecker:function(e){return l(e)?(this.options.drop.checker=e,this):null===e?(delete this.options.getRect,this):this.options.drop.checker},accept:function(e){return n(e)?(this.options.drop.accept=e,this):u(e)?(this.options.drop.accept=e,this):null===e?(delete this.options.drop.accept,this):this.options.drop.accept},resizable:function(e){return p(e)?(this.options.resize.enabled=e.enabled!==!1,this.setPerAction("resize",e),this.setOnEvents("resize",e),/^x$|^y$|^xy$/.test(e.axis)?this.options.resize.axis=e.axis:null===e.axis&&(this.options.resize.axis=Ae.resize.axis),c(e.preserveAspectRatio)?this.options.resize.preserveAspectRatio=e.preserveAspectRatio:c(e.square)&&(this.options.resize.square=e.square),this):c(e)?(this.options.resize.enabled=e,this):this.options.resize},squareResize:function(e){return c(e)?(this.options.resize.square=e,this):null===e?(delete this.options.resize.square,this):this.options.resize.square},gesturable:function(e){return p(e)?(this.options.gesture.enabled=e.enabled!==!1,this.setPerAction("gesture",e),this.setOnEvents("gesture",e),this):c(e)?(this.options.gesture.enabled=e,this):this.options.gesture},autoScroll:function(e){return p(e)?e=f({actions:["drag","resize"]},e):c(e)&&(e={actions:["drag","resize"],enabled:e}),this.setOptions("autoScroll",e)},snap:function(e){var t=this.setOptions("snap",e);return t===this?this:t.drag},setOptions:function(e,t){var r,i=t&&a(t.actions)?t.actions:["drag"];if(p(t)||c(t)){for(r=0;r<i.length;r++){var n=/resize/.test(i[r])?"resize":i[r];if(p(this.options[n])){var s=this.options[n][e];p(t)?(f(s,t),s.enabled=t.enabled!==!1,"snap"===e&&("grid"===s.mode?s.targets=[ae.createSnapGrid(f({offset:s.gridOffset||{x:0,y:0}},s.grid||{}))]:"anchor"===s.mode?s.targets=s.anchors:"path"===s.mode&&(s.targets=s.paths),"elementOrigin"in t&&(s.relativePoints=[t.elementOrigin]))):c(t)&&(s.enabled=t)}}return this}var o={},l=["drag","resize","gesture"];for(r=0;r<l.length;r++)e in Ae[l[r]]&&(o[l[r]]=this.options[l[r]][e]);return o},inertia:function(e){var t=this.setOptions("inertia",e);return t===this?this:t.drag},getAction:function(e,t,r,i){var n=this.defaultActionChecker(e,r,i);return this.options.actionChecker?this.options.actionChecker(e,t,n,this,i,r):n},defaultActionChecker:ie,actionChecker:function(e){return l(e)?(this.options.actionChecker=e,this):null===e?(delete this.options.actionChecker,this):this.options.actionChecker},getRect:function(e){return e=e||this._element,this.selector&&!n(e)&&(e=this._context.querySelector(this.selector)),O(e)},rectChecker:function(e){return l(e)?(this.getRect=e,this):null===e?(delete this.options.getRect,this):this.getRect},styleCursor:function(e){return c(e)?(this.options.styleCursor=e,this):null===e?(delete this.options.styleCursor,this):this.options.styleCursor},preventDefault:function(e){return/^(always|never|auto)$/.test(e)?(this.options.preventDefault=e,this):c(e)?(this.options.preventDefault=e?"always":"never",this):this.options.preventDefault},origin:function(e){return u(e)?(this.options.origin=e,this):p(e)?(this.options.origin=e,this):this.options.origin},deltaSource:function(e){return"page"===e||"client"===e?(this.options.deltaSource=e,this):this.options.deltaSource},restrict:function(e){if(!p(e))return this.setOptions("restrict",e);for(var t,r=["drag","resize","gesture"],i=0;i<r.length;i++){var n=r[i];if(n in e){var s=f({actions:[n],restriction:e[n]},e);t=this.setOptions("restrict",s)}}return t},context:function(){return this._context},_context:xe,ignoreFrom:function(e){return u(e)?(this.options.ignoreFrom=e,this):n(e)?(this.options.ignoreFrom=e,this):this.options.ignoreFrom},allowFrom:function(e){return u(e)?(this.options.allowFrom=e,this):n(e)?(this.options.allowFrom=e,this):this.options.allowFrom},element:function(){return this._element},fire:function(e){if(!e||!e.type||!ue(Ue,e.type))return this;var t,r,i,n="on"+e.type,s="";if(e.type in this._iEvents)for(t=this._iEvents[e.type],r=0,i=t.length;r<i&&!e.immediatePropagationStopped;r++)s=t[r].name,t[r](e);if(l(this[n])&&(s=this[n].name,this[n](e)),e.type in He&&(t=He[e.type]))for(r=0,i=t.length;r<i&&!e.immediatePropagationStopped;r++)s=t[r].name,t[r](e);return this},on:function(e,t,r){var i;if(d(e)&&e.search(" ")!==-1&&(e=e.trim().split(/ +/)),a(e)){for(i=0;i<e.length;i++)this.on(e[i],t,r);return this}if(p(e)){for(var n in e)this.on(n,e[n],t);return this}if("wheel"===e&&(e=Be),r=!!r,ue(Ue,e))e in this._iEvents?this._iEvents[e].push(t):this._iEvents[e]=[t];else if(this.selector){if(!ke[e])for(ke[e]={selectors:[],contexts:[],listeners:[]},i=0;i<Oe.length;i++)Je.add(Oe[i],e,se),Je.add(Oe[i],e,oe,!0);var s,o=ke[e];for(s=o.selectors.length-1;s>=0&&(o.selectors[s]!==this.selector||o.contexts[s]!==this._context);s--);s===-1&&(s=o.selectors.length,o.selectors.push(this.selector),o.contexts.push(this._context),
o.listeners.push([])),o.listeners[s].push([t,r])}else Je.add(this._element,e,t,r);return this},off:function(e,t,r){var i;if(d(e)&&e.search(" ")!==-1&&(e=e.trim().split(/ +/)),a(e)){for(i=0;i<e.length;i++)this.off(e[i],t,r);return this}if(p(e)){for(var n in e)this.off(n,e[n],t);return this}var s,o=-1;if(r=!!r,"wheel"===e&&(e=Be),ue(Ue,e))s=this._iEvents[e],s&&(o=de(s,t))!==-1&&this._iEvents[e].splice(o,1);else if(this.selector){var l=ke[e],h=!1;if(!l)return this;for(o=l.selectors.length-1;o>=0;o--)if(l.selectors[o]===this.selector&&l.contexts[o]===this._context){var c=l.listeners[o];for(i=c.length-1;i>=0;i--){var u=c[i][0],f=c[i][1];if(u===t&&f===r){c.splice(i,1),c.length||(l.selectors.splice(o,1),l.contexts.splice(o,1),l.listeners.splice(o,1),Je.remove(this._context,e,se),Je.remove(this._context,e,oe,!0),l.selectors.length||(ke[e]=null)),h=!0;break}}if(h)break}}else Je.remove(this._element,e,t,r);return this},set:function(e){p(e)||(e={}),this.options=f({},Ae.base);var t,r=["drag","drop","resize","gesture"],i=["draggable","dropzone","resizable","gesturable"],n=f(f({},Ae.perAction),e[s]||{});for(t=0;t<r.length;t++){var s=r[t];this.options[s]=f({},Ae[s]),this.setPerAction(s,n),this[i[t]](e[s])}var o=["accept","actionChecker","allowFrom","deltaSource","dropChecker","ignoreFrom","origin","preventDefault","rectChecker","styleCursor"];for(t=0,rt=o.length;t<rt;t++){var a=o[t];this.options[a]=Ae.base[a],a in e&&this[a](e[a])}return this},unset:function(){if(Je.remove(this._element,"all"),d(this.selector))for(var e in ke)for(var t=ke[e],r=0;r<t.selectors.length;r++){t.selectors[r]===this.selector&&t.contexts[r]===this._context&&(t.selectors.splice(r,1),t.contexts.splice(r,1),t.listeners.splice(r,1),t.selectors.length||(ke[e]=null)),Je.remove(this._context,e,se),Je.remove(this._context,e,oe,!0);break}else Je.remove(this,"all"),this.options.styleCursor&&(this._element.style.cursor="");return this.dropzone(!1),Pe.splice(de(Pe,this),1),ae}},pe.prototype.snap=le(pe.prototype.snap,"Interactable#snap is deprecated. See the new documentation for snapping at http://interactjs.io/docs/snapping"),pe.prototype.restrict=le(pe.prototype.restrict,"Interactable#restrict is deprecated. See the new documentation for resticting at http://interactjs.io/docs/restriction"),pe.prototype.inertia=le(pe.prototype.inertia,"Interactable#inertia is deprecated. See the new documentation for inertia at http://interactjs.io/docs/inertia"),pe.prototype.autoScroll=le(pe.prototype.autoScroll,"Interactable#autoScroll is deprecated. See the new documentation for autoScroll at http://interactjs.io/docs/#autoscroll"),pe.prototype.squareResize=le(pe.prototype.squareResize,"Interactable#squareResize is deprecated. See http://interactjs.io/docs/#resize-square"),pe.prototype.accept=le(pe.prototype.accept,"Interactable#accept is deprecated. use Interactable#dropzone({ accept: target }) instead"),pe.prototype.dropChecker=le(pe.prototype.dropChecker,"Interactable#dropChecker is deprecated. use Interactable#dropzone({ dropChecker: checkerFunction }) instead"),pe.prototype.context=le(pe.prototype.context,"Interactable#context as a method is deprecated. It will soon be a DOM Node instead"),ae.isSet=function(e,t){return Pe.indexOfElement(e,t&&t.context)!==-1},ae.on=function(e,t,r){if(d(e)&&e.search(" ")!==-1&&(e=e.trim().split(/ +/)),a(e)){for(var i=0;i<e.length;i++)ae.on(e[i],t,r);return ae}if(p(e)){for(var n in e)ae.on(n,e[n],t);return ae}return ue(Ue,e)?He[e]?He[e].push(t):He[e]=[t]:Je.add(xe,e,t,r),ae},ae.off=function(e,t,r){if(d(e)&&e.search(" ")!==-1&&(e=e.trim().split(/ +/)),a(e)){for(var i=0;i<e.length;i++)ae.off(e[i],t,r);return ae}if(p(e)){for(var n in e)ae.off(n,e[n],t);return ae}if(ue(Ue,e)){var s;e in He&&(s=de(He[e],t))!==-1&&He[e].splice(s,1)}else Je.remove(xe,e,t,r);return ae},ae.enableDragging=le(function(e){return null!==e&&void 0!==e?(Le.drag=e,ae):Le.drag},"interact.enableDragging is deprecated and will soon be removed."),ae.enableResizing=le(function(e){return null!==e&&void 0!==e?(Le.resize=e,ae):Le.resize},"interact.enableResizing is deprecated and will soon be removed."),ae.enableGesturing=le(function(e){return null!==e&&void 0!==e?(Le.gesture=e,ae):Le.gesture},"interact.enableGesturing is deprecated and will soon be removed."),ae.eventTypes=Ue,ae.debug=function(){var e=Me[0]||new K;return{interactions:Me,target:e.target,dragging:e.dragging,resizing:e.resizing,gesturing:e.gesturing,prepared:e.prepared,matches:e.matches,matchElements:e.matchElements,prevCoords:e.prevCoords,startCoords:e.startCoords,pointerIds:e.pointerIds,pointers:e.pointers,addPointer:Ze.addPointer,removePointer:Ze.removePointer,recordPointer:Ze.recordPointer,snap:e.snapStatus,restrict:e.restrictStatus,inertia:e.inertiaStatus,downTime:e.downTimes[0],downEvent:e.downEvent,downPointer:e.downPointer,prevEvent:e.prevEvent,Interactable:pe,interactables:Pe,pointerIsDown:e.pointerIsDown,defaultOptions:Ae,defaultActionChecker:ie,actionCursors:Fe,dragMove:Ze.dragMove,resizeMove:Ze.resizeMove,gestureMove:Ze.gestureMove,pointerUp:Ze.pointerUp,pointerDown:Ze.pointerDown,pointerMove:Ze.pointerMove,pointerHover:Ze.pointerHover,eventTypes:Ue,events:Je,globalEvents:He,delegatedEvents:ke,prefixedPropREs:Qe}},ae.getPointerAverage=M,ae.getTouchBBox=_,ae.getTouchDistance=k,ae.getTouchAngle=A,ae.getElementRect=O,ae.getElementClientRect=C,ae.matchesSelector=fe,ae.closest=N,ae.margin=le(function(e){return h(e)?(Xe=e,ae):Xe},"interact.margin is deprecated. Use interact(target).resizable({ margin: number }); instead."),ae.supportsTouch=function(){return Ie},ae.supportsPointerEvent=function(){return Ye},ae.stop=function(e){for(var t=Me.length-1;t>=0;t--)Me[t].stop(e);return ae},ae.dynamicDrop=function(e){return c(e)?(_e=e,ae):_e},ae.pointerMoveTolerance=function(e){return h(e)?(je=e,this):je},ae.maxInteractions=function(e){return h(e)?(qe=e,this):qe},ae.createSnapGrid=function(e){return function(t,r){var i=0,n=0;p(e.offset)&&(i=e.offset.x,n=e.offset.y);var s=Math.round((t-i)/e.x),o=Math.round((r-n)/e.y),a=s*e.x+i,l=o*e.y+n;return{x:a,y:l,range:e.range}}},ce(xe),Ve in Element.prototype&&l(Element.prototype[Ve])||(me=function(e,t,r){r=r||e.parentNode.querySelectorAll(t);for(var i=0,n=r.length;i<n;i++)if(r[i]===e)return!0;return!1}),function(){for(var e=0,t=["ms","moz","webkit","o"],i=0;i<t.length&&!r.requestAnimationFrame;++i)$e=r[t[i]+"RequestAnimationFrame"],Ke=r[t[i]+"CancelAnimationFrame"]||r[t[i]+"CancelRequestAnimationFrame"];$e||($e=function(t){var r=(new Date).getTime(),i=Math.max(0,16-(r-e)),n=setTimeout(function(){t(r+i)},i);return e=r+i,n}),Ke||(Ke=function(e){clearTimeout(e)})}(),"undefined"!=typeof e&&e.exports&&(t=e.exports=ae),t.interact=ae}}("undefined"==typeof window?void 0:window)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),p=r(1),l=i(p),h=r(2),c=i(h),d=r(3),u=i(d);t["default"]=function(e){var t=function(t){function r(){n(this,r);var e=s(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return e.initialScrollY=0,e}return o(r,t),a(r,[{key:"showGhostTargetOnClone",value:function(e){this.originalTarget=e,this.originalTargetClassName=this.originalTarget.className,this.originalTarget.className+=" ghost"}},{key:"setCloneInitialPositionAndWidth",value:function(e,t){var r=t.getBoundingClientRect();Object.assign(e.style,{left:r.left+"px",top:r.top+"px",width:r.width+"px"})}},{key:"setPreviewInitialPosition",value:function(e,t){Object.assign(e.style,{display:"",visibility:""});var r=e.getBoundingClientRect();Object.assign(e.style,{left:t.clientX-r.width/2+"px",top:t.clientY-r.height/2+"px"})}},{key:"cloneTarget",value:function(e){var t=e.cloneNode(!0);return this.setDraggingStyle(t),this.setCloneInitialPositionAndWidth(t,e),document.body.appendChild(t),t}},{key:"clonePreviewElement",value:function(e,t){var r=e.cloneNode(!0);return this.setDraggingStyle(r),document.body.appendChild(r),this.setPreviewInitialPosition(r,t),r}},{key:"destroyClone",value:function(e){e.parentNode&&e.parentNode.removeChild(e)}},{key:"setDraggingStyle",value:function(e){this.previousPosition=e.style.position,Object.assign(e.style,{position:"fixed",zIndex:1e5,boxShadow:"20px 20px 20px 2px rgba(0,0,0,0.2)"})}},{key:"resetTarget",value:function(e){Object.assign(e.style,{position:this.previousPosition,zIndex:"",transform:"",webkitTransform:"",mozTransform:"",msTransform:"",boxShadow:""}),e.setAttribute("data-x",""),e.setAttribute("data-y","")}},{key:"moveTarget",value:function(e){var t=e.target,r=(parseFloat(t.getAttribute("data-x"))||0)+e.dx,i=this.initialScrollY-window.scrollY;this.initialScrollY=window.scrollY;var n=(parseFloat(t.getAttribute("data-y"))||0)+e.dy+i;t.style.webkitTransform=t.style.transform=t.style.mozTransform=t.style.msTransform="translate("+r+"px, "+n+"px)",t.setAttribute("data-x",r),t.setAttribute("data-y",n)}},{key:"componentDidMount",value:function(){var e=this,t=this,r=c["default"].findDOMNode(this);if(r){var i=this.props,n=i.cloneElementOnDrag,s=i.onDragStart,o=i.onDragMove,a=i.onDragEnd,p=i.getDragPreview,l=i.showGhostOnClone;(0,u["default"])(r).ignoreFrom("input, *[contenteditable=true], .ignoreDraggable").draggable({manualStart:n,onmove:function(r){e.moveTarget(r),"function"==typeof o&&o(t,r)},onend:function(r){n?(e.destroyClone(r.target),e.props.showGhostOnClone&&(e.originalTarget.className=e.originalTargetClassName)):e.resetTarget(r.target),"function"==typeof a&&a(t,r)}}).on("move",function(r){var i=r.interaction;if(i.pointerIsDown&&!i.interacting()&&"drag"===i.prepared.name){var s=r.currentTarget;if(!n)return void e.setDraggingStyle(s);var o=null;if("function"==typeof p){var a=p(t),h=c["default"].findDOMNode(a);o=e.clonePreviewElement(h,r)}else o=e.cloneTarget(s);l&&e.showGhostTargetOnClone(s),i.start({name:"drag"},r.interactable,o)}}).on("dragstart",function(r){e.initialScrollY=window.scrollY,"function"==typeof s&&s(t,r)})}}},{key:"render",value:function(){return l["default"].createElement(e,this.props)}}]),r}(l["default"].Component);return t.propTypes={onDragStart:l["default"].PropTypes.func,onDragMove:l["default"].PropTypes.func,onDragEnd:l["default"].PropTypes.func,cloneElementOnDrag:l["default"].PropTypes.bool.isRequired,getDragPreview:l["default"].PropTypes.func,showGhostOnClone:l["default"].PropTypes.bool.isRequired},t.defaultProps={showGhostOnClone:!1},t}},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),p=r(1),l=i(p),h=r(2),c=i(h),d=r(3),u=i(d);t["default"]=function(e){var t=function(t){function r(){return n(this,r),s(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return o(r,t),a(r,[{key:"raiseEvent",value:function(e,t){var r=e.dropzone._element.getBoundingClientRect(),i=e.relatedTarget.getBoundingClientRect(),n=i.left-r.left+i.width/2,s=i.top-r.top+i.height/2;t&&t(e,n,s)}},{key:"onDrop",value:function(e){this.raiseEvent(e,this.props.onDrop)}},{key:"onDropMove",value:function(e){this.raiseEvent(e,this.props.onDropMove)}},{key:"componentDidMount",value:function(){var e=c["default"].findDOMNode(this);e&&(u["default"].dynamicDrop(!0),(0,u["default"])(c["default"].findDOMNode(this)).dropzone({accept:".drag-element",overlap:.5,ondropactivate:this.props.onDropActivate,ondragenter:this.props.onDragEnter,ondragleave:this.props.onDragLeave,ondrop:this.onDrop.bind(this),ondropmove:this.onDropMove.bind(this),ondropdeactivate:this.props.onDropDeactivate}))}},{key:"render",value:function(){return l["default"].createElement(e,this.props)}}]),r}(l["default"].Component);return t.propTypes={onDrop:l["default"].PropTypes.func,onDropMove:l["default"].PropTypes.func,onDropActivate:l["default"].PropTypes.func,onDragEnter:l["default"].PropTypes.func,onDragLeave:l["default"].PropTypes.func,onDropDeactivate:l["default"].PropTypes.func},t}},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),p=r(1),l=i(p),h=r(5),c=i(h),d=r(7),u=i(d),f=function(e){function t(){return n(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"render",value:function(){var e=this,t=this.props.children.map(function(t,r){return l["default"].createElement(u["default"],{cloneElementOnDrag:!0,key:r,onDragMove:e.props.onDragMove,onDragStart:e.props.onDragStart,onDragEnd:e.props.onDragEnd},t)});return l["default"].createElement("div",null,t)}}]),t}(p.Component);f.propTypes={children:p.PropTypes.node,isDragging:p.PropTypes.bool.isRequired,isDraggingOver:p.PropTypes.bool.isRequired,onDragStart:p.PropTypes.func.isRequired,onDragEnd:p.PropTypes.func.isRequired,onDragMove:p.PropTypes.func.isRequired,onDrop:p.PropTypes.func.isRequired,onDropMove:p.PropTypes.func.isRequired},t["default"]=(0,c["default"])(f)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),p=r(1),l=i(p),h=r(4),c=i(h),d=function(e){function t(){return n(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"render",value:function(){var e=this.props.children.props.listItem,t=this.props.children.props.selected,r="sortable-item drag-element"+(t?" sortable-selected":"");return l["default"].createElement("div",{className:r,"data-index":e.index,"data-dnn-sortable-id":e.id},this.props.children)}}]),t}(p.Component);d.propTypes={children:p.PropTypes.node},t["default"]=(0,c["default"])(d)},function(e,t,r){t=e.exports=r(9)(),t.push([e.id,".sortable-item.drag-element,.sortable-item.drag-element *{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.sortable-item.drag-element.dragged-over{box-shadow:inset 0 -2px 0 0 #1e88c3}.sortable-item.drag-element.sortable-selected{background:#e9f0f9;color:#fff}.dnn-sortable-dragging{background:#e9f0f9;border:1px solid #1e88c3;cursor:move;opacity:.8}",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t];r[2]?e.push("@media "+r[2]+"{"+r[1]+"}"):e.push(r[1])}return e.join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},n=0;n<this.length;n++){var s=this[n][0];"number"==typeof s&&(i[s]=!0)}for(n=0;n<t.length;n++){var o=t[n];"number"==typeof o[0]&&i[o[0]]||(r&&!o[2]?o[2]=r:r&&(o[2]="("+o[2]+") and ("+r+")"),e.push(o))}},e}},function(e,t,r){function i(e,t){for(var r=0;r<e.length;r++){var i=e[r],n=u[i.id];if(n){n.refs++;for(var s=0;s<n.parts.length;s++)n.parts[s](i.parts[s]);for(;s<i.parts.length;s++)n.parts.push(l(i.parts[s],t))}else{for(var o=[],s=0;s<i.parts.length;s++)o.push(l(i.parts[s],t));u[i.id]={id:i.id,refs:1,parts:o}}}}function n(e){for(var t=[],r={},i=0;i<e.length;i++){var n=e[i],s=n[0],o=n[1],a=n[2],p=n[3],l={css:o,media:a,sourceMap:p};r[s]?r[s].parts.push(l):t.push(r[s]={id:s,parts:[l]})}return t}function s(e,t){var r=v(),i=x[x.length-1];if("top"===e.insertAt)i?i.nextSibling?r.insertBefore(t,i.nextSibling):r.appendChild(t):r.insertBefore(t,r.firstChild),x.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");r.appendChild(t)}}function o(e){e.parentNode.removeChild(e);var t=x.indexOf(e);t>=0&&x.splice(t,1)}function a(e){var t=document.createElement("style");return t.type="text/css",s(e,t),t}function p(e){var t=document.createElement("link");return t.rel="stylesheet",s(e,t),t}function l(e,t){var r,i,n;if(t.singleton){var s=y++;r=m||(m=a(t)),i=h.bind(null,r,s,!1),n=h.bind(null,r,s,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=p(t),i=d.bind(null,r),n=function(){o(r),r.href&&URL.revokeObjectURL(r.href)}):(r=a(t),i=c.bind(null,r),n=function(){o(r)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else n()}}function h(e,t,r,i){var n=r?"":i.css;if(e.styleSheet)e.styleSheet.cssText=b(t,n);else{var s=document.createTextNode(n),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(s,o[t]):e.appendChild(s)}}function c(e,t){var r=t.css,i=t.media;t.sourceMap;if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}function d(e,t){var r=t.css,i=(t.media,t.sourceMap);i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var n=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(n),s&&URL.revokeObjectURL(s)}var u={},f=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},g=f(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),v=f(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,y=0,x=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=g()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var r=n(e);return i(r,t),function(e){for(var s=[],o=0;o<r.length;o++){var a=r[o],p=u[a.id];p.refs--,s.push(p)}if(e){var l=n(e);i(l,t)}for(var o=0;o<s.length;o++){var p=s[o];if(0===p.refs){for(var h=0;h<p.parts.length;h++)p.parts[h]();delete u[p.id]}}}};var b=function(){var e=[];return function(t,r){return e[t]=r,e.filter(Boolean).join("\n")}}()},function(e,t,r){var i=r(8);"string"==typeof i&&(i=[[e.id,i,""]]);r(10)(i,{});i.locals&&(e.exports=i.locals)}])});