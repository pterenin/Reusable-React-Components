!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],t):"object"==typeof exports?exports.FileUpload=t(require("react"),require("react-dom")):e.FileUpload=t(e.react,e["react-dom"])}(this,function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),u=r(s),c=n(2),d=r(c),p=n(16),f=r(p),h=n(12),v=r(h),m=n(17),g=r(m);n(37);var b=[{name:"browse",text:"Browse Filesystem"},{name:"upload",text:"Upload a File"},{name:"link",text:"Enter URL Link"}],y="Drag and Drop a File or Select an Option",w="Drag and Drop a File",x=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=!1,l=null,a=null;return n.state={text:y,showLinkInput:!1,showFolderPicker:!1,selectedFile:l,selectedFolder:a,linkPath:"",fileUrl:"",fileExist:r,draggedOver:!1,isDragging:!1,fileName:"",uploading:!1,uploadComplete:!1,horizontalOrientation:!1,errorText:""},setTimeout(n.compareDimensions.bind(n),2e3),n}return l(t,e),a(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.selectedFile;if(t){var n={value:t.folderPath,key:t.folderId},r={value:t.fileName,key:t.fileId},o=!0;this.setState({fileExist:o,selectedFile:r,selectedFolder:n},function(){e.getPreviewUrl(t.fileId)})}}},{key:"componentDidMount",value:function(){window.addEventListener("dragover",this.prevent),window.addEventListener("drop",this.prevent)}},{key:"prevent",value:function(e){e.preventDefault()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragover",this.prevent),window.removeEventListener("drop",this.prevent)}},{key:"onLink",value:function(){void 0!==window.dnn&&(window.dnn.stopEscapeFromClosingPB=!0),this.setState({showLinkInput:!0})}},{key:"onBrowse",value:function(){void 0!==window.dnn&&(window.dnn.stopEscapeFromClosingPB=!0),this.setState({showFolderPicker:!0})}},{key:"onButtonClick",value:function(e){switch(e){case"link":return this.onLink();case"browse":return this.onBrowse()}}},{key:"hideFields",value:function(){void 0!==window.dnn&&(window.dnn.stopEscapeFromClosingPB=!1),this.setState({showLinkInput:!1,showFolderPicker:!1})}},{key:"onMouseEnter",value:function(e){this.setState({text:e})}},{key:"onMouseLeave",value:function(){this.setState({text:y})}},{key:"onFileSelect",value:function(e,t){var n=this;this.setState({selectedFolder:e,selectedFile:t},function(){n.getPreviewUrl(),n.sendResult()}),this.hideFields()}},{key:"handleImageError",value:function(){this.setState({fileExist:!1})}},{key:"onFileUpload",value:function(e){this.uploadFile(e.target.files[0])}},{key:"handleError",value:function(e){var t=this,n=e&&"string"==typeof e?e:"Upload Failed";this.setState({uploading:!0,errorText:n},function(){setTimeout(function(){t.setState({uploading:!1,errorText:""})},2e3)})}},{key:"uploadFile",value:function(e){if(e){var t=this.props.fileFormats;if(this.setState({fileName:e.name}),t.length>0){var n=e.type,r=t.some(function(e){return n===e});if(!r)return this.handleError("wrong format")}this.postFile(e)}}},{key:"getServiceFramework",value:function(){var e=this.props.utils.utilities.sf;return e.controller="FileUpload",e.moduleRoot="InternalServices",e}},{key:"uploadFromLink",value:function(e){this.setState({fileUrl:""}),this.uploadFromUrl(e),this.hideFields()}},{key:"showPreview",value:function(e){this.setState({fileUrl:""}),"string"==typeof e&&(this.getImageDimensions(e),this.setState({fileUrl:e,fileExist:!0}))}},{key:"sendResult",value:function(){var e=this.state.selectedFile,t=this.state.selectedFolder,n=e?e.fileId||+e.key:null,r=t?t.value:null,o=e?e.value:null;this.props.onSelectFile({folderPath:r,fileId:n,fileName:o})}},{key:"uploadFromUrl",value:function(e){var t=this.props.folderName&&"string"==typeof this.props.folderName?this.props.folderName:"",n=this.getServiceFramework();n.post("UploadFromUrl",{url:e,folder:t},this.uploadComplete.bind(this),this.handleError.bind(this)),this.setState({uploading:!0,uploadComplete:!1})}},{key:"getPreviewUrl",value:function(){var e=this.state.selectedFile?this.state.selectedFile.fileId||+this.state.selectedFile.key:"";if(e){var t=this.getServiceFramework();t.get("loadimage",{fileId:e},this.showPreview.bind(this),this.callback)}else this.setState({fileUrl:"",fileExist:!1},this.sendResult.bind(this))}},{key:"getImageDimensions",value:function(e){var t=new Image;t.src=e,t.onload=this.compareDimensions.bind(this,t)}},{key:"compareDimensions",value:function(e){if(e){var t=d["default"].findDOMNode(this).getBoundingClientRect();e.height&&e.width/e.height>t.width/t.height?this.setState({horizontalOrientation:!0}):this.setState({horizontalOrientation:!1})}}},{key:"postFile",value:function(e){var t=new FormData;t.append("postfile",e);var n=this.getServiceFramework();this.props.folderName&&"string"==typeof this.props.folderName&&t.append("folder",this.props.folderName),n.postfile("UploadFromLocal"+(this.props.portalId===-1?"":"?portalId="+this.props.portalId),t,this.uploadComplete.bind(this),this.handleError.bind(this)),this.setState({uploading:!0,uploadComplete:!1})}},{key:"uploadComplete",value:function(e){var t=this;this.setState({uploadComplete:!0},function(){setTimeout(function(){t.setState({uploading:!1})},1e3)});var n="string"==typeof e?JSON.parse(e):e;if(n.path){var r={value:n.fileName,fileId:n.fileId};this.setState({selectedFile:r},function(){t.getPreviewUrl(),t.sendResult()})}}},{key:"callback",value:function(e){}},{key:"onDragOver",value:function(){this.setState({draggedOver:!0,text:w})}},{key:"onDragLeave",value:function(){this.setState({draggedOver:!1,text:y})}},{key:"onDrop",value:function(e){e.preventDefault(),this.uploadFile(e.dataTransfer.files[0]),this.onDragLeave()}},{key:"getImageStyle",value:function(){var e=this.props.cropImagePreview,t=this.state.horizontalOrientation,n={width:"100%",height:"auto"};return t&&e&&(n={height:"100%",width:"auto"}),t||e||(n={height:"100%",width:"auto"}),n}},{key:"render",value:function(){var e=this,t=b;this.props.buttons&&(t=t.filter(function(t){return e.props.buttons.some(function(e){return t.name===e})})),t=t.map(function(t){var r=n(41)("./"+t.name+".svg"),o="upload"===t.name,i=e.props.fileFormats.join(",");return u["default"].createElement("div",{className:"button "+t.name,onMouseEnter:e.onMouseEnter.bind(e,t.text),onMouseLeave:e.onMouseLeave.bind(e),onClick:e.onButtonClick.bind(e,t.name),key:t.name},u["default"].createElement("div",{dangerouslySetInnerHTML:{__html:r}}),o&&i&&u["default"].createElement("input",{type:"file",accept:i,onChange:e.onFileUpload.bind(e),"aria-label":"File"}),o&&!i&&u["default"].createElement("input",{type:"file",onChange:e.onFileUpload.bind(e),"aria-label":"File"}))});var r={width:67*t.length},o=this.state.fileUrl||"",i=o&&this.state.fileExist&&!this.state.showLinkInput&&!this.state.showFolderPicker,l="overlay"+(o&&this.state.fileExist?" has-image":"")+(this.state.draggedOver?" hover":"");return u["default"].createElement("div",{className:"dnn-file-upload"},u["default"].createElement("div",null,u["default"].createElement("div",{id:"dropzoneId",className:l,onDragOver:this.onDragOver.bind(this),onDragLeave:this.onDragLeave.bind(this),onDrop:this.onDrop.bind(this)},u["default"].createElement("div",{className:"buttons",style:r},t),u["default"].createElement("span",null,this.state.text)),this.state.showLinkInput&&u["default"].createElement(f["default"],{linkPath:this.state.linkPath,onSave:this.uploadFromLink.bind(this),onCancel:this.hideFields.bind(this)}),this.state.showFolderPicker&&u["default"].createElement(v["default"],{utils:this.props.utils,fileFormats:this.props.fileFormats,selectedFolder:this.state.selectedFolder,selectedFile:this.state.selectedFile,onSave:this.onFileSelect.bind(this),onCancel:this.hideFields.bind(this)}),i&&u["default"].createElement("div",{className:"image-container"},u["default"].createElement("img",{style:this.getImageStyle(),onError:this.handleImageError.bind(this),src:o,alt:"Image"})),this.state.selectedFile&&u["default"].createElement("div",{className:"dnn-file-upload-file-name"},u["default"].createElement("span",null,this.state.selectedFile.value))),this.state.uploading&&u["default"].createElement(g["default"],{uploadComplete:this.state.uploadComplete,errorText:this.state.errorText,fileName:this.state.fileName}))}}]),t}(s.Component);t["default"]=x,x.propTypes={utils:s.PropTypes.object.isRequired,onSelectFile:s.PropTypes.func.isRequired,selectedFile:s.PropTypes.object,cropImagePreview:s.PropTypes.bool,buttons:s.PropTypes.array,folderName:s.PropTypes.string,portalId:s.PropTypes.number,fileFormats:s.PropTypes.array},x.defaultProps={cropImagePreview:!1,portalId:-1,fileFormats:[]}},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<t.length;o++){var l=t[o];"number"==typeof l[0]&&r[l[0]]||(n&&!l[2]?l[2]=n:n&&(l[2]="("+l[2]+") and ("+n+")"),e.push(l))}},e}},function(e,t,n){function r(e,t,n){var r=u[t];if("undefined"==typeof r&&(r=i(t)),r){if(void 0===n)return e.style[r];e.style[r]=c(r,n)}}function o(e,t){for(var n in t)t.hasOwnProperty(n)&&r(e,n,t[n])}function i(e){var t=s(e),n=a(t);return u[t]=u[e]=u[n]=n,n}function l(){2===arguments.length?"string"==typeof arguments[1]?arguments[0].style.cssText=arguments[1]:o(arguments[0],arguments[1]):r(arguments[0],arguments[1],arguments[2])}var a=n(22),s=n(38),u={"float":"cssFloat"},c=n(11);e.exports=l,e.exports.set=l,e.exports.get=function(e,t){return Array.isArray(t)?t.reduce(function(t,n){return t[n]=r(e,n||""),t},{}):r(e,t||"")}},function(e,t){e.exports='<?xml version="1.0" encoding="utf-8"?>\r\n<!-- Generated by IcoMoon.io -->\r\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\r\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24" viewBox="0 0 24 24">\r\n<path fill="currentColor" d="M20.28 18.84l-3.36-3.36c0.84-1.32 1.32-2.88 1.32-4.56 0-4.68-3.84-8.52-8.52-8.52s-8.52 3.84-8.52 8.52 3.84 8.52 8.52 8.52c1.68 0 3.24-0.48 4.56-1.32l3.36 3.36c0.24 0.24 0.6 0.24 0.84 0l1.68-1.68c0.36-0.24 0.36-0.72 0.12-0.96zM9.72 17.040c-3.36 0-6.12-2.76-6.12-6.12s2.76-6.12 6.12-6.12 6.12 2.76 6.12 6.12-2.76 6.12-6.12 6.12z"></path>\r\n</svg>\r\n'},function(e,t){e.exports='<?xml version="1.0" encoding="utf-8"?>\r\n<!-- Generator: Adobe Illustrator 20.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\r\n<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\r\n\t viewBox="0 0 2048 2048" style="enable-background:new 0 0 2048 2048;" xml:space="preserve">\r\n<polygon fill="currentColor" points="1793.7,585.8 1623.9,416.1 756.6,1283.4 424.4,951.3 254.6,1121 756.6,1623 926.4,1453.2 926.4,1453.2 "/>\r\n</svg>\r\n'},function(e,t){e.exports='<?xml version="1.0" encoding="utf-8"?>\r\n<!-- Generator: Adobe Illustrator 20.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\r\n<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\r\n\t viewBox="0 0 2048 2048" style="enable-background:new 0 0 2048 2048;" xml:space="preserve">\r\n<g>\r\n\t<polygon fill="currentColor" points="698.6,807.7 943.6,561.3 943.6,1375.8 1113.4,1375.8 1113.4,565.1 1360,807.7 1470.9,696.8 1026.6,256.6 \r\n\t\t915.8,367.5 915.8,367.5 587.8,696.8 \t"/>\r\n\t<polygon fill="currentColor" points="1582.5,1279.1 1582.5,1595.9 465.5,1595.9 465.5,1279.1 257.9,1279.1 257.9,1791.4 278.6,1791.4 511,1791.4 \r\n\t\t1537,1791.4 1790.1,1791.4 1790.1,1550.4 1790.1,1279.1 \t"/>\r\n</g>\r\n</svg>\r\n'},function(e,t){e.exports='<?xml version="1.0" encoding="utf-8"?>\r\n<!-- Generator: Adobe Illustrator 20.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\r\n<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\r\n\t viewBox="0 0 2048 2048" style="enable-background:new 0 0 2048 2048;" xml:space="preserve">\r\n<g>\r\n\t<path fill="currentColor" d="M662.6,1565.4L483,1385.8l360.6-360.6L480.1,661.8l182.6-182.6l363.5,363.4l359-359l179.6,179.6l-359,359l362,362\r\n\t\tl-182.6,182.6l-362-362L662.6,1565.4z"/>\r\n</g>\r\n</svg>\r\n'},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Scrollbars=void 0;var o=n(30),i=r(o);t["default"]=i["default"],t.Scrollbars=i["default"]},function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=f[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(u(r.parts[i],t))}else{for(var l=[],i=0;i<r.parts.length;i++)l.push(u(r.parts[i],t));f[r.id]={id:r.id,refs:1,parts:l}}}}function o(e){for(var t=[],n={},r=0;r<e.length;r++){var o=e[r],i=o[0],l=o[1],a=o[2],s=o[3],u={css:l,media:a,sourceMap:s};n[i]?n[i].parts.push(u):t.push(n[i]={id:i,parts:[u]})}return t}function i(e,t){var n=m(),r=y[y.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),y.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function l(e){e.parentNode.removeChild(e);var t=y.indexOf(e);t>=0&&y.splice(t,1)}function a(e){var t=document.createElement("style");return t.type="text/css",i(e,t),t}function s(e){var t=document.createElement("link");return t.rel="stylesheet",i(e,t),t}function u(e,t){var n,r,o;if(t.singleton){var i=b++;n=g||(g=a(t)),r=c.bind(null,n,i,!1),o=c.bind(null,n,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=s(t),r=p.bind(null,n),o=function(){l(n),n.href&&URL.revokeObjectURL(n.href)}):(n=a(t),r=d.bind(null,n),o=function(){l(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}function c(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=w(t,o);else{var i=document.createTextNode(o),l=e.childNodes;l[t]&&e.removeChild(l[t]),l.length?e.insertBefore(i,l[t]):e.appendChild(i)}}function d(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function p(e,t){var n=t.css,r=t.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([n],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(o),i&&URL.revokeObjectURL(i)}var f={},h=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},v=h(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),m=h(function(){return document.head||document.getElementsByTagName("head")[0]}),g=null,b=0,y=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=v()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var n=o(e);return r(n,t),function(e){for(var i=[],l=0;l<n.length;l++){var a=n[l],s=f[a.id];s.refs--,i.push(s)}if(e){var u=o(e);r(u,t)}for(var l=0;l<i.length;l++){var s=i[l];if(0===s.refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete f[s.id]}}}};var w=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t){var n={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0};e.exports=function(e,t){return"number"!=typeof t||n[e]?t:t+"px"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){var n=void 0,r=void 0;for(n in e)if("data"==n){if(e[n].key==t)return e}else if(e[n]instanceof Object&&e.hasOwnProperty(n)&&(r=a(e[n],t)))return r;return!1}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),d=n(14),p=r(d),f=n(13),h=r(f);n(36);var v={ENTER:13,ESCAPE:27},m=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n.props.selectedFolder;return n.state={showFolderPicker:!1,showFilePicker:!1,folders:null,files:null,selectedFolder:r,selectedFile:n.props.selectedFile},n.onKeyDown=n.onKeyDown.bind(n),n}return l(t,e),s(t,[{key:"onKeyDown",value:function(e){switch(e.keyCode){case v.ENTER:return this.props.onSave(this.state.selectedFolder,this.state.selectedFile);case v.ESCAPE:return this.props.onCancel()}}},{key:"onSave",value:function(){return this.props.onSave(this.state.selectedFolder,this.state.selectedFile)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.onKeyDown,!1)}},{key:"componentDidMount",value:function(){this.getFolders(),document.addEventListener("keyup",this.onKeyDown,!1)}},{key:"getServiceFramework",value:function(){var e=this.props.utils.utilities.sf;return e.controller="ItemListService",e.moduleRoot="InternalServices",e}},{key:"getFolders",value:function(e){var t=this.getServiceFramework();return e?void t.get("SearchFolders",{searchText:e},this.setFolders.bind(this),this.handleError.bind(this)):t.get("GetFolders",{},this.setFolders.bind(this),this.handleError.bind(this))}},{key:"getChildrenFolders",value:function(e){var t=this.getServiceFramework();t.get("GetFolderDescendants",{parentId:e},this.addChildFolders.bind(this,e),this.handleError.bind(this))}},{key:"getFiles",value:function(){var e=this.getServiceFramework(),t=this.state.selectedFolder?this.state.selectedFolder.key:null,n=this.props.fileFormats.map(function(e){return e.split("/")[1]}).join(",");t?e.get("GetFiles",{parentId:t,filter:n},this.setFiles.bind(this),this.handleError.bind(this)):this.state.selectedFolder?e.get("SearchFolders",{searchText:this.state.selectedFolder.value},this.setFolderId.bind(this),this.handleError.bind(this)):this.setFiles()}},{key:"setFolderId",value:function(e){var t=e.Tree.children[0].data,n=this.props.fileFormats.map(function(e){return e.split("/")[1]}).join(","),r=this.getServiceFramework();r.get("GetFiles",{parentId:t.key,filter:n},this.setFiles.bind(this),this.handleError.bind(this))}},{key:"setFiles",value:function(e){e&&e.Tree&&e.Tree.children&&this.setState({files:e.Tree.children})}},{key:"setFolders",value:function(e){if(this.setState({folders:e.Tree}),this.state.selectedFile&&!this.state.selectedFolder||this.state.selectedFolder&&"0"==this.state.selectedFolder.value){var t=e.Tree.children[0].data;this.setState({selectedFolder:t})}}},{key:"handleError",value:function(){}},{key:"onFolderClick",value:function(e){this.setState({selectedFolder:e,files:null,selectedFile:null})}},{key:"onFileClick",value:function(e){var t=e?e.data:null;this.setState({selectedFile:t})}},{key:"addChildFolders",value:function(e,t){var n=this.state.folders,r=a(n,e),o=t.Items.map(function(e){return{data:e,children:[]}});r.children=o,this.setState({folders:n})}},{key:"render",value:function(){return c["default"].createElement("div",{className:"file-upload-container"},c["default"].createElement("h4",null,"Folder"),c["default"].createElement(p["default"],{selectedFolder:this.state.selectedFolder,folders:this.state.folders,searchFolder:this.getFolders.bind(this),onFolderClick:this.onFolderClick.bind(this),getChildren:this.getChildrenFolders.bind(this)}),c["default"].createElement("h4",null,"File"),c["default"].createElement(h["default"],{selectedFile:this.state.selectedFile,files:this.state.files,onFileClick:this.onFileClick.bind(this),getFiles:this.getFiles.bind(this)}),c["default"].createElement("span",null,"Press ",c["default"].createElement("strong",{onClick:this.onSave.bind(this)},"[ENTER]")," to save, or ",c["default"].createElement("strong",{onClick:this.props.onCancel},"[ESC]")," to cancel"))}}]),t}(u.Component);t["default"]=m,m.propTypes={utils:u.PropTypes.object.isRequired,selectedFile:u.PropTypes.object.isRequired,selectedFolder:u.PropTypes.object.isRequired,fileFormats:u.PropTypes.array,onSave:u.PropTypes.func.isRequired,onCancel:u.PropTypes.func.isRequired},m.defaultProps={fileFormats:[]}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),u=r(s),c=n(2),d=r(c),p=n(9),f=n(5),h=n(26),v="<None Specified>",m=function(e){function t(){o(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={showFilePicker:!1,searchFileText:""},e.handleClick=e.handleClick.bind(e),e}return l(t,e),a(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClick,!1),this._isMounted=!0}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick,!1),this._isMounted=!1}},{key:"handleClick",value:function(e){if(this._isMounted){var t=d["default"].findDOMNode(this);t&&t.contains(e.target)||"clear-button"===e.target.className||this.hide()}}},{key:"hide",value:function(){this.setState({showFilePicker:!1,searchFileText:""})}},{key:"onFileNameClick",value:function(e){this.hide(),this.props.onFileClick(e)}},{key:"onChangeSearchFileText",value:function(e){var t=e.target.value;this.setState({searchFileText:t})}},{key:"clearSearch",value:function(){this.setState({searchFileText:""})}},{key:"onFilesClick",value:function(){var e=this.state.showFilePicker;e||this.props.files||this.props.getFiles(),this.setState({showFilePicker:!e})}},{key:"isMatchSearch",value:function(e){if(!this.state.searchFileText)return!0;var t=e.toLowerCase();return t.indexOf(this.state.searchFileText)!==-1}},{key:"getItem",value:function(e,t){return!!e&&u["default"].createElement("li",null,u["default"].createElement("div",{className:"icon",dangerouslySetInnerHTML:{__html:h},onClick:this.onFileNameClick.bind(this,t)}),u["default"].createElement("div",{className:"item-name",onClick:this.onFileNameClick.bind(this,t)},t.data.value))}},{key:"getFiles",value:function(){var e=this;if(!this.props.files)return!1;var t=this.props.files.map(function(t){var n=e.isMatchSearch(t.data.value);return e.getItem(n,t)});return u["default"].createElement("ul",null,u["default"].createElement("li",null,u["default"].createElement("div",{className:"icon",dangerouslySetInnerHTML:{__html:h},onClick:this.onFileNameClick.bind(this)}),u["default"].createElement("div",{className:"item-name none-specified",onClick:this.onFileNameClick.bind(this)},v)),t)}},{key:"render",value:function(){var e=this.props.selectedFile?this.props.selectedFile.value:v,t=this.getFiles();return u["default"].createElement("div",{className:"drop-down"},u["default"].createElement("div",{className:"selected-item",onClick:this.onFilesClick.bind(this)},e),u["default"].createElement("div",{className:"item-picker-container"+(this.state.showFilePicker?" show":"")},u["default"].createElement("div",{className:"inner-box"},u["default"].createElement("div",{className:"search"},u["default"].createElement("input",{type:"text",value:this.state.searchFileText,onChange:this.onChangeSearchFileText.bind(this),placeholder:"Search Files...","aria-label":"Search"}),this.state.searchFileText&&u["default"].createElement("div",{onClick:this.clearSearch.bind(this),className:"clear-button"},"×"),u["default"].createElement("div",{className:"search-icon",dangerouslySetInnerHTML:{__html:f}})),u["default"].createElement("div",{className:"items"},u["default"].createElement(p.Scrollbars,{className:"scrollArea content-vertical",autoHeight:!0,autoHeightMin:0,autoHeightMax:200},u["default"].createElement("div",{className:"item-picker"},t))))))}}]),t}(s.Component);t["default"]=m,m.propTypes={files:s.PropTypes.object.isRequired,onFileClick:s.PropTypes.func.isRequired,selectedFile:s.PropTypes.object.isRequired,getFiles:s.PropTypes.func.isRequired}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),u=r(s),c=n(2),d=r(c),p=n(15),f=r(p),h=n(9),v=n(5),m=function(e){function t(){o(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={showFolderPicker:!1,searchFolderText:""},e.timeOut=null,e.handleClick=e.handleClick.bind(e),e}return l(t,e),a(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClick,!1),this._isMounted=!0}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick,!1),this._isMounted=!1}},{key:"handleClick",value:function(e){if(this._isMounted){var t=d["default"].findDOMNode(this);t&&t.contains(e.target)||"clear-button"===e.target.className||this.hide()}}},{key:"hide",value:function(){this.setState({showFolderPicker:!1})}},{key:"onFolderClick",value:function(e){this.hide(),this.props.onFolderClick(e)}},{key:"onChangeSearchFolderText",value:function(e){var t=this,n=e.target.value?e.target.value:"";this.setState({searchFolderText:n}),clearTimeout(this.timeOut),this.timeOut=setTimeout(function(){t.props.searchFolder(n.toLowerCase())},500)}},{key:"clearSearch",value:function(e){e.preventDefault(),this.setState({searchFolderText:""}),this.props.searchFolder()}},{key:"onFoldersClick",value:function(){var e=this.state.showFolderPicker;this.setState({showFolderPicker:!e})}},{key:"render",value:function(){var e=this.props.selectedFolder?this.props.selectedFolder.value:"<Not Specified>";return u["default"].createElement("div",{className:"drop-down"},u["default"].createElement("div",{className:"selected-item",onClick:this.onFoldersClick.bind(this)},e),u["default"].createElement("div",{className:"item-picker-container"+(this.state.showFolderPicker?" show":"")},u["default"].createElement("div",{className:"inner-box"},u["default"].createElement("div",{className:"search"},u["default"].createElement("input",{type:"text",value:this.state.searchFolderText,onChange:this.onChangeSearchFolderText.bind(this),placeholder:"Search Folders...","aria-label":"Search"}),this.state.searchFolderText&&u["default"].createElement("div",{onClick:this.clearSearch.bind(this),className:"clear-button"},"×"),u["default"].createElement("div",{className:"search-icon",dangerouslySetInnerHTML:{__html:v}})),u["default"].createElement("div",{className:"items"},u["default"].createElement(h.Scrollbars,{className:"scrollArea content-vertical",autoHeight:!0,autoHeightMin:0,autoHeightMax:200},u["default"].createElement(f["default"],{folders:this.props.folders,getChildren:this.props.getChildren,onFolderClick:this.onFolderClick.bind(this)}))))))}}]),t}(s.Component);t["default"]=m,m.propTypes={folders:s.PropTypes.object.isRequired,onFolderClick:s.PropTypes.func.isRequired,getChildren:s.PropTypes.func.isRequired,selectedFolder:s.PropTypes.object.isRequired,searchFolder:s.PropTypes.func.isRequired}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),u=r(s),c=n(25),d=function(e){function t(){o(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));
return e.state={openFolders:[]},e}return l(t,e),a(t,[{key:"componentWillReceiveProps",value:function(e){if(e.folders&&e.folders.children&&e.folders.children[0]&&e.folders.children[0].data&&e.folders.children[0].data.key){var t=e.folders.children[0].data.key,n=this.state.openFolders;n.push(t),this.setState({openFolders:n})}}},{key:"toggleFolder",value:function(e){var t=this.state.openFolders;t.some(function(t){return t===e})?t=t.filter(function(t){return t!==e}):t.push(e),this.setState({openFolders:t})}},{key:"onParentClick",value:function(e,t){e.data.hasChildren&&(this.toggleFolder(e.data.key),e.children&&e.children.length||this.props.getChildren(e.data.key))}},{key:"onFolderNameClick",value:function(e,t){this.props.onFolderClick(e.data)}},{key:"getFolders",value:function(e){var t=this;if(!e)return!1;var n=e.children.map(function(e){var n=t.state.openFolders.some(function(t){return t===e.data.key}),r=n?"open":"";return u["default"].createElement("li",{className:r},e.data.hasChildren&&u["default"].createElement("div",{className:"has-children",onClick:t.onParentClick.bind(t,e)}),u["default"].createElement("div",{onClick:t.onFolderNameClick.bind(t,e)},u["default"].createElement("div",{className:"icon",dangerouslySetInnerHTML:{__html:c}}),u["default"].createElement("div",{className:"item-name"},e.data.value)),e.data.hasChildren&&t.getFolders(e))});return u["default"].createElement("ul",null,n)}},{key:"render",value:function(){var e=this.getFolders(this.props.folders);return u["default"].createElement("div",{className:"item-picker"},e)}}]),t}(s.Component);t["default"]=d,d.propTypes={folders:s.PropTypes.object.isRequired,onFolderClick:s.PropTypes.func.isRequired,getChildren:s.PropTypes.func.isRequired}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),u=r(s),c={ENTER:13,ESCAPE:27},d=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n.props.linkPath;return n.state={url:r},n.onKeyDown=n.onKeyDown.bind(n),n}return l(t,e),a(t,[{key:"componentDidMount",value:function(){document.addEventListener("keyup",this.onKeyDown,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.onKeyDown,!1)}},{key:"onKeyDown",value:function(e){switch(e.keyCode){case c.ENTER:return this.onSave();case c.ESCAPE:return this.props.onCancel()}}},{key:"onSave",value:function(){return this.state.url?void this.props.onSave(this.state.url,!0):this.props.onCancel()}},{key:"onChange",value:function(e){this.setState({url:e.target.value})}},{key:"render",value:function(){return u["default"].createElement("div",{className:"file-upload-container"},u["default"].createElement("h4",null,"URL Link"),u["default"].createElement("div",{className:"textarea-container"},u["default"].createElement("textarea",{value:this.state.url,onChange:this.onChange.bind(this),placeholder:"http://example.com/imagename.jpg","aria-label":"Link"}),u["default"].createElement("span",null,"Press ",u["default"].createElement("strong",{onClick:this.onSave.bind(this)},"[ENTER]")," to save, or ",u["default"].createElement("strong",{onClick:this.props.onCancel},"[ESC]")," to cancel")))}}]),t}(s.Component);t["default"]=d,d.propTypes={linkPath:s.PropTypes.string.isRequired,onSave:s.PropTypes.func.isRequired,onCancel:s.PropTypes.func.isRequired}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),u=r(s),c=n(7),d=n(6),p=n(8),f=function(e){function t(){o(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={percent:0},e.timeout=20,e.delta=1.01,e.setTimeout=null,e}return l(t,e),a(t,[{key:"componentDidMount",value:function(){setTimeout(this.increase.bind(this),100)}},{key:"componentWillReceiveProps",value:function(e){e.uploadComplete&&(clearTimeout(this.setTimeout),this.setState({percent:100}))}},{key:"increase",value:function(){var e=this.state.percent;e++,this.timeout*=this.delta,this.delta*=1.001,this.setState({percent:e}),e<99&&(this.setTimeout=setTimeout(this.increase.bind(this),this.timeout))}},{key:"render",value:function(){var e=this.props.errorText?0:this.state.percent,t=this.props.uploadComplete?"Upload Complete":"Uploading...";t=this.props.errorText?this.props.errorText:t;var n=this.props.uploadComplete?d:c;n=this.props.errorText?p:n;var r="file-upload-container dnn-upload-bar"+(!this.props.errorText&&this.props.uploadComplete?" complete":"")+(this.props.errorText?" upload-error":"");return u["default"].createElement("div",{className:r},u["default"].createElement("div",{className:"upload-bar-container"},u["default"].createElement("div",{className:"upload-file-name"},this.props.fileName||"myImage.jpg"),u["default"].createElement("div",{className:"upload-icon",dangerouslySetInnerHTML:{__html:n}}),u["default"].createElement("h4",null,t),u["default"].createElement("div",{className:"upload-percent"},e+"%"),u["default"].createElement("div",{className:"upload-bar-box"},u["default"].createElement("div",{className:"upload-bar",style:{width:e+"%"}}))))}}]),t}(s.Component);t["default"]=f,f.propTypes={errorText:s.PropTypes.string.isRequired,fileName:s.PropTypes.string.isRequired,uploadComplete:s.PropTypes.bool.isRequired}},function(e,t,n){t=e.exports=n(3)(),t.push([e.id,'svg{fill:#c8c8c8}svg:hover{fill:#6f7273}svg:active{fill:#1e88c3}.item-picker-container{position:absolute;top:calc(100% + 1px);left:-1px;width:100%;border:1px solid #c8c8c8;background:#fff;z-index:1;transition:.2s;overflow:hidden;max-height:0;box-shadow:none;opacity:0}.item-picker-container.show{box-shadow:0 0 17px 2px rgba(0,0,0,.2);max-height:600px;opacity:1}.item-picker-container .inner-box{box-sizing:border-box;padding:20px;float:left;width:100%;height:100%}.item-picker-container .inner-box .search{float:left;width:100%;border:1px solid #c8c8c8;position:relative}.item-picker-container .inner-box .search .clear-button{position:absolute;right:32px;top:50%;height:26px;margin-top:-13px;font-size:26px;line-height:26px;opacity:.5;cursor:pointer}.item-picker-container .inner-box .search .clear-button:hover{opacity:1}.item-picker-container .inner-box .search .search-icon{position:absolute;right:0;top:50%;transform:translateY(-50%);height:24px;color:#6f7273}.item-picker-container .inner-box .search input[type=text]{float:left;border:none;width:calc(100% - 40px);box-sizing:border-box;outline:none!important}.item-picker-container .inner-box .items{float:left;width:100%;border:1px solid #c8c8c8;height:200px;margin-top:14px}.item-picker-container .inner-box .items,.item-picker-container .inner-box .items *{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.item-picker{padding-top:6px}.item-picker ul{padding-left:20px;box-sizing:border-box}.item-picker ul li{list-style:none;position:relative;float:left;width:100%;margin-top:0}.item-picker ul li>div{padding-top:0;cursor:pointer;float:left;width:100%;padding-top:4px}.item-picker ul li>div:hover{color:#1e88c3}.item-picker ul li>ul{height:0;overflow:hidden;float:left;width:100%}.item-picker ul li.open>ul{height:auto}.item-picker ul li.open>.has-children{transform:rotate(90deg)}.item-picker ul li .icon{width:14px;float:left;margin-right:5px;height:13px;cursor:pointer}.item-picker ul li .item-name{cursor:pointer;float:left;width:calc(100% - 30px);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.item-picker ul li .item-name.none-specified{font-weight:700}.item-picker ul li .has-children{position:absolute;left:-15px;top:1px;width:10px;height:10px;cursor:pointer;transition:.18s}.item-picker ul li .has-children:after{content:"";position:absolute;left:4px;top:1px;width:0;height:0;border-top:4px solid transparent;border-bottom:4px solid transparent;border-left:4px solid #6f7273}.file-upload-container .drop-down .selected-item{float:left;width:100%;height:100%;padding:7px;box-sizing:border-box;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-right:20px}.file-upload-container span>strong{cursor:pointer}.file-upload-container span>strong:hover{text-decoration:underline}',""])},function(e,t,n){t=e.exports=n(3)(),t.push([e.id,'svg{fill:#c8c8c8}svg:hover{fill:#6f7273}svg:active{fill:#1e88c3}.dnn-file-upload{float:left;width:304px;height:162px;background:#fbfcfc;border:12px solid #fff;outline:1px solid #959695;position:relative}.dnn-file-upload .overlay{position:absolute;background:rgba(30,136,195,0);top:-12px;bottom:-12px;left:-12px;right:-12px;text-align:center;transition:.18s;z-index:1}.dnn-file-upload .overlay.hover{background:rgba(30,136,195,.6)}.dnn-file-upload .overlay.hover *{pointer-events:none}.dnn-file-upload .overlay.hover .buttons .button.upload,.dnn-file-upload .overlay.hover span{color:#fff}.dnn-file-upload .overlay.has-image{opacity:0}.dnn-file-upload .overlay.has-image.hover,.dnn-file-upload .overlay.has-image:hover{opacity:1}.dnn-file-upload .overlay:hover{background:rgba(30,136,195,.6)}.dnn-file-upload .overlay:hover span{color:#fff}.dnn-file-upload .overlay:hover .buttons:hover .button{color:#c8c8c8}.dnn-file-upload .overlay:hover .buttons .button,.dnn-file-upload .overlay:hover .buttons:hover .button:hover{color:#fff}.dnn-file-upload .overlay span{margin:25px 100px;float:left;width:128px;box-sizing:border-box;color:#6f7273;transition:.18s}.dnn-file-upload .overlay .buttons{margin:auto;height:32px;margin-top:50px;width:201px;transition:.18s}.dnn-file-upload .overlay .buttons .button{box-sizing:content-box;float:left;width:32px;height:32px;padding:0 17.5px;color:#c8c8c8;cursor:pointer;position:relative;overflow:hidden;background:transparent!important}.dnn-file-upload .overlay .buttons .button input[type=file]{position:absolute;top:-100px;bottom:-100px;left:-100px;right:-100px;opacity:0;cursor:pointer;width:auto;height:162px}.dnn-file-upload .overlay .buttons .button svg{width:32px;height:32px}.dnn-file-upload .overlay .buttons .button:first-of-type{margin-left:0}.dnn-file-upload .file-upload-container{position:absolute;top:-12px;bottom:-12px;left:-12px;right:-12px;background:#fff;padding:14px 22px;z-index:2}.dnn-file-upload .file-upload-container h4{margin-bottom:8px;color:#46292b}.dnn-file-upload .file-upload-container .textarea-container{float:left;width:100%;height:90px;border:1px solid #959695;position:relative}.dnn-file-upload .file-upload-container .textarea-container textarea{resize:none;width:100%;height:64px;border:none;outline:none!important;padding:10px;box-sizing:border-box;color:#46292b}.dnn-file-upload .file-upload-container span{float:right;margin-right:10px;color:#1e88c3}.dnn-file-upload .file-upload-container .drop-down{width:100%;float:left;height:30px;border:1px solid #959695;margin-bottom:16px;position:relative}.dnn-file-upload .file-upload-container .drop-down:after{content:"";position:absolute;right:8px;top:12px;width:0;height:0;pointer-events:none;border-left:6px solid transparent;border-right:6px solid transparent;border-top:6px solid #6f7273}.dnn-file-upload .image-container{position:absolute;top:0;left:0;right:0;bottom:0;overflow:hidden;z-index:0}.dnn-file-upload .image-container img{position:absolute;width:auto;height:100%;left:50%;top:50%;transform:translate(-50%,-50%);overflow:hidden;z-index:0}.dnn-file-upload .dnn-file-upload-file-name{position:absolute;bottom:0;text-align:center;width:100%}.dnn-file-upload .dnn-file-upload-file-name>span{background-color:#fbfcfc;padding:3px 10px;border-radius:3px;border:1px solid #d3d3d3;opacity:.8}.dnn-file-upload .file-upload-container.dnn-upload-bar{padding:12px;transition:opacity .4s .6s}.dnn-file-upload .file-upload-container.dnn-upload-bar.complete{opacity:0}.dnn-file-upload .file-upload-container.dnn-upload-bar .upload-bar-container{color:#1e88c3;float:left;width:100%;height:100%;border:1px solid #1e88c3;background:#f4f6f7;padding:5px 20px;box-sizing:border-box}.dnn-file-upload .file-upload-container.dnn-upload-bar .upload-bar-container .upload-file-name{margin-bottom:10px;word-wrap:break-word;max-height:16px}.dnn-file-upload .file-upload-container.dnn-upload-bar .upload-bar-container .upload-icon{width:42px;height:42px;margin:auto}.dnn-file-upload .file-upload-container.dnn-upload-bar .upload-bar-container h4{color:#1e88c3;margin:auto;text-align:center;font-size:14px;margin:10px}.dnn-file-upload .file-upload-container.dnn-upload-bar .upload-bar-container .upload-bar-box{position:relative;float:left;width:100%;height:4px;background:#c8c8c8;margin-top:5px}.dnn-file-upload .file-upload-container.dnn-upload-bar .upload-bar-container .upload-bar-box .upload-bar{width:0;float:left;background:#1e88c3;height:100%;left:0;transition:.1s}.dnn-file-upload .file-upload-container.upload-error .upload-bar-container{border:1px solid #ea2134;color:#ea2134}.dnn-file-upload .file-upload-container.upload-error .upload-bar-container h4{color:#ea2134}.dnn-file-upload .file-upload-container.upload-error .upload-bar-container .upload-bar-box{background:#ea2134}',""])},,function(e,t,n){(function(t){(function(){var n,r,o,i,l,a;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-l)/1e6},r=t.hrtime,n=function(){var e;return e=r(),1e9*e[0]+e[1]},i=n(),a=1e9*t.uptime(),l=i-a):Date.now?(e.exports=function(){return Date.now()-o},o=Date.now()):(e.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(t,n(23))},function(e,t){var n=null,r=["Webkit","Moz","O","ms"];e.exports=function(e){n||(n=document.createElement("div"));var t=n.style;if(e in t)return e;for(var o=e.charAt(0).toUpperCase()+e.slice(1),i=r.length;i>=0;i--){var l=r[i]+o;if(l in t)return l}return!1}},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function i(e){if(d===clearTimeout)return clearTimeout(e);if((d===r||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function l(){v&&f&&(v=!1,f.length?h=f.concat(h):m=-1,h.length&&a())}function a(){if(!v){var e=o(l);v=!0;for(var t=h.length;t;){for(f=h,h=[];++m<t;)f&&f[m].run();m=-1,t=h.length}f=null,v=!1,i(e)}}function s(e,t){this.fun=e,this.array=t}function u(){}var c,d,p=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{d="function"==typeof clearTimeout?clearTimeout:r}catch(e){d=r}}();var f,h=[],v=!1,m=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new s(e,t)),1!==h.length||v||o(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=u,p.addListener=u,p.once=u,p.off=u,p.removeListener=u,p.removeAllListeners=u,p.emit=u,p.prependListener=u,p.prependOnceListener=u,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t,n){(function(t){for(var r=n(21),o="undefined"==typeof window?t:window,i=["moz","webkit"],l="AnimationFrame",a=o["request"+l],s=o["cancel"+l]||o["cancelRequest"+l],u=0;!a&&u<i.length;u++)a=o[i[u]+"Request"+l],s=o[i[u]+"Cancel"+l]||o[i[u]+"CancelRequest"+l];if(!a||!s){var c=0,d=0,p=[],f=1e3/60;a=function(e){if(0===p.length){var t=r(),n=Math.max(0,f-(t-c));c=n+t,setTimeout(function(){var e=p.slice(0);p.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(c)}catch(n){setTimeout(function(){throw n},0)}},Math.round(n))}return p.push({handle:++d,callback:e,cancelled:!1}),d},s=function(e){for(var t=0;t<p.length;t++)p[t].handle===e&&(p[t].cancelled=!0)}}e.exports=function(e){return a.call(o,e)},e.exports.cancel=function(){s.apply(o,arguments)},e.exports.polyfill=function(){o.requestAnimationFrame=a,o.cancelAnimationFrame=s}}).call(t,function(){return this}())},function(e,t){e.exports='<?xml version="1.0" encoding="utf-8"?>\r\n<!-- Generator: Adobe Illustrator 20.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\r\n<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\r\n\t viewBox="0 0 2048 2048" style="enable-background:new 0 0 2048 2048;" xml:space="preserve">\r\n<g>\r\n\t<path fill="currentColor" d="M1036.5,506.9L909.8,380.3H257.8v0.3v1287.6v118.8v2l1532.5-2V506.9H1036.5z M1671.4,1668.3H376.6V499.4h484.4L991.5,630\r\n\t\tl679.9-0.3V1668.3z"/>\r\n</g>\r\n</svg>\r\n'},function(e,t){e.exports='<?xml version="1.0" encoding="utf-8"?>\r\n<!-- Generator: Adobe Illustrator 20.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\r\n<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\r\n\t viewBox="0 0 2048 2048" style="enable-background:new 0 0 2048 2048;" xml:space="preserve">\r\n<g>\r\n\t<path fill="currentColor" d="M1270.9,252.7H379.9v1533.9h1288.3V628.7L1270.9,252.7z M1327.8,438.6l117.4,117.4h-117.4V438.6z M1539.5,1660.4H519V366.2\r\n\t\th704.5v294.1h316.1V1660.4z"/>\r\n</g>\r\n</svg>\r\n'},function(e,t){e.exports='<?xml version="1.0" encoding="utf-8"?>\r\n<!-- Generator: Adobe Illustrator 20.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\r\n<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\r\n\t viewBox="0 0 2048 2048" style="enable-background:new 0 0 2048 2048;" xml:space="preserve">\r\n<g>\r\n\t<rect fill="currentColor" x="258.5" y="258.5" width="339.6" height="339.6"/>\r\n\t<path fill="currentColor" d="M823.8,768.8c-249.9,0-452.4,202.5-452.4,452.4c0,89.9,26.5,173.3,71.6,243.7l-178.1,178c-12.5,12.6-12.5,33.2,0.1,45.7\r\n\t\tl91.5,91.4c12.5,12.6,33.1,12.6,45.7,0l178-178.1c70.3,45.1,153.9,71.6,243.7,71.6c249.9,0,452.4-202.5,452.4-452.4\r\n\t\tC1276.2,971.3,1073.7,768.8,823.8,768.8z M823.8,1544.4c-178.2,0-323.2-145-323.2-323.2c0-178.2,145-323.2,323.2-323.2\r\n\t\tc178.2,0,323.2,145,323.2,323.2C1146.9,1399.4,1002,1544.4,823.8,1544.4z"/>\r\n\t<rect fill="currentColor" x="1452.8" y="258.5" width="339.6" height="339.6"/>\r\n\t<rect fill="currentColor" x="856.8" y="258.5" width="339.6" height="339.6"/>\r\n\t<rect fill="currentColor" x="1452.8" y="1449.9" width="339.6" height="339.6"/>\r\n\t<rect fill="currentColor" x="1452.8" y="860.3" width="339.6" height="339.6"/>\r\n</g>\r\n</svg>\r\n'},function(e,t){e.exports='<?xml version="1.0" encoding="utf-8"?>\r\n<!-- Generator: Adobe Illustrator 20.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\r\n<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\r\n\t viewBox="0 0 2048 2048" style="enable-background:new 0 0 2048 2048;" xml:space="preserve">\r\n<g>\r\n\t<polygon fill="currentColor" points="1246.4,1116.5 778.3,1584.5 459.2,1265.4 619.8,1104.9 525.4,1010.5 258.2,1277.7 770.3,1789.8 1449.9,1110.1 \r\n\t\t1100.5,760.7 995.5,865.6 \t"/>\r\n\t<polygon fill="currentColor" points="598.1,937.9 947.5,1287.3 1052.5,1182.4 801.6,931.5 1269.7,463.5 1588.8,782.6 1428.2,943.1 1522.6,1037.5 \r\n\t\t1789.8,770.3 1277.7,258.2 \t"/>\r\n</g>\r\n</svg>\r\n'},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e){return p["default"].createElement("div",e)}function l(e){var t=e.style,n=o(e,["style"]),r=c({},t,{right:2,bottom:2,left:2,borderRadius:3,cursor:"pointer"});return p["default"].createElement("div",c({style:r},n))}function a(e){var t=e.style,n=o(e,["style"]),r=c({},t,{right:2,bottom:2,top:2,borderRadius:3,cursor:"pointer"});return p["default"].createElement("div",c({style:r},n))}function s(e){var t=e.style,n=o(e,["style"]),r=c({},t,{cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0,0,0,.2)"});return p["default"].createElement("div",c({style:r},n))}function u(e){var t=e.style,n=o(e,["style"]),r=c({},t,{cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0,0,0,.2)"});return p["default"].createElement("div",c({style:r},n))}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.renderViewDefault=i,t.renderTrackHorizontalDefault=l,t.renderTrackVerticalDefault=a,t.renderThumbHorizontalDefault=s,t.renderThumbVerticalDefault=u;var d=n(1),p=r(d)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(24),a=r(l),s=n(4),u=r(s),c=n(1),d=r(c),p=n(34),f=r(p),h=n(35),v=r(h),m=n(33),g=r(m),b=n(32),y=r(b),w=n(31),x=n(29);t["default"]=(0,c.createClass)({displayName:"Scrollbars",propTypes:{onScroll:c.PropTypes.func,onScrollFrame:c.PropTypes.func,onScrollStart:c.PropTypes.func,onScrollStop:c.PropTypes.func,onUpdate:c.PropTypes.func,renderView:c.PropTypes.func,renderTrackHorizontal:c.PropTypes.func,renderTrackVertical:c.PropTypes.func,renderThumbHorizontal:c.PropTypes.func,renderThumbVertical:c.PropTypes.func,thumbSize:c.PropTypes.number,thumbMinSize:c.PropTypes.number,hideTracksWhenNotNeeded:c.PropTypes.bool,autoHide:c.PropTypes.bool,autoHideTimeout:c.PropTypes.number,autoHideDuration:c.PropTypes.number,autoHeight:c.PropTypes.bool,autoHeightMin:c.PropTypes.number,autoHeightMax:c.PropTypes.number,universal:c.PropTypes.bool,style:c.PropTypes.object,children:c.PropTypes.node},getDefaultProps:function(){return{renderView:x.renderViewDefault,renderTrackHorizontal:x.renderTrackHorizontalDefault,renderTrackVertical:x.renderTrackVerticalDefault,renderThumbHorizontal:x.renderThumbHorizontalDefault,renderThumbVertical:x.renderThumbVerticalDefault,thumbMinSize:30,hideTracksWhenNotNeeded:!1,autoHide:!1,autoHideTimeout:1e3,autoHideDuration:200,autoHeight:!1,autoHeightMin:0,autoHeightMax:200,universal:!1}},getInitialState:function(){return{didMountUniversal:!1}},componentDidMount:function(){this.addListeners(),this.update(),this.componentDidMountUniversal()},componentDidMountUniversal:function(){var e=this.props.universal;e&&this.setState({didMountUniversal:!0})},componentDidUpdate:function(){this.update()},componentWillUnmount:function(){this.removeListeners(),(0,l.cancel)(this.requestFrame),clearTimeout(this.hideTracksTimeout),clearInterval(this.detectScrollingInterval)},getScrollLeft:function(){var e=this.refs.view;return e.scrollLeft},getScrollTop:function(){var e=this.refs.view;return e.scrollTop},getScrollWidth:function(){var e=this.refs.view;return e.scrollWidth},getScrollHeight:function(){var e=this.refs.view;return e.scrollHeight},getClientWidth:function(){var e=this.refs.view;return e.clientWidth},getClientHeight:function(){var e=this.refs.view;return e.clientHeight},getValues:function(){var e=this.refs.view,t=e.scrollLeft,n=e.scrollTop,r=e.scrollWidth,o=e.scrollHeight,i=e.clientWidth,l=e.clientHeight;return{left:t/(r-i)||0,top:n/(o-l)||0,scrollLeft:t,scrollTop:n,scrollWidth:r,scrollHeight:o,clientWidth:i,clientHeight:l}},getThumbHorizontalWidth:function(){var e=this.props,t=e.thumbSize,n=e.thumbMinSize,r=this.refs,o=r.view,i=r.trackHorizontal,l=o.scrollWidth,a=o.clientWidth,s=(0,g["default"])(i),u=a/l*s;return s===u?0:t?t:Math.max(u,n)},getThumbVerticalHeight:function(){var e=this.props,t=e.thumbSize,n=e.thumbMinSize,r=this.refs,o=r.view,i=r.trackVertical,l=o.scrollHeight,a=o.clientHeight,s=(0,y["default"])(i),u=a/l*s;return s===u?0:t?t:Math.max(u,n)},getScrollLeftForOffset:function(e){var t=this.refs,n=t.view,r=t.trackHorizontal,o=n.scrollWidth,i=n.clientWidth,l=(0,g["default"])(r),a=this.getThumbHorizontalWidth();return e/(l-a)*(o-i)},getScrollTopForOffset:function(e){var t=this.refs,n=t.view,r=t.trackVertical,o=n.scrollHeight,i=n.clientHeight,l=(0,y["default"])(r),a=this.getThumbVerticalHeight();return e/(l-a)*(o-i)},scrollLeft:function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t=this.refs.view;t.scrollLeft=e},scrollTop:function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t=this.refs.view;t.scrollTop=e},scrollToLeft:function(){var e=this.refs.view;e.scrollLeft=0},scrollToTop:function(){var e=this.refs.view;e.scrollTop=0},scrollToRight:function(){var e=this.refs.view;e.scrollLeft=e.scrollWidth},scrollToBottom:function(){var e=this.refs.view;e.scrollTop=e.scrollHeight},addListeners:function(){if("undefined"!=typeof document){var e=this.refs,t=e.view,n=e.trackHorizontal,r=e.trackVertical,o=e.thumbHorizontal,i=e.thumbVertical;t.addEventListener("scroll",this.handleScroll),(0,f["default"])()&&(n.addEventListener("mouseenter",this.handleTrackMouseEnter),n.addEventListener("mouseleave",this.handleTrackMouseLeave),n.addEventListener("mousedown",this.handleHorizontalTrackMouseDown),r.addEventListener("mouseenter",this.handleTrackMouseEnter),r.addEventListener("mouseleave",this.handleTrackMouseLeave),r.addEventListener("mousedown",this.handleVerticalTrackMouseDown),o.addEventListener("mousedown",this.handleHorizontalThumbMouseDown),i.addEventListener("mousedown",this.handleVerticalThumbMouseDown),window.addEventListener("resize",this.handleWindowResize))}},removeListeners:function(){if("undefined"!=typeof document){var e=this.refs,t=e.view,n=e.trackHorizontal,r=e.trackVertical,o=e.thumbHorizontal,i=e.thumbVertical;t.removeEventListener("scroll",this.handleScroll),(0,f["default"])()&&(n.removeEventListener("mouseenter",this.handleTrackMouseEnter),n.removeEventListener("mouseleave",this.handleTrackMouseLeave),n.removeEventListener("mousedown",this.handleHorizontalTrackMouseDown),r.removeEventListener("mouseenter",this.handleTrackMouseEnter),r.removeEventListener("mouseleave",this.handleTrackMouseLeave),r.removeEventListener("mousedown",this.handleVerticalTrackMouseDown),o.removeEventListener("mousedown",this.handleHorizontalThumbMouseDown),i.removeEventListener("mousedown",this.handleVerticalThumbMouseDown),window.removeEventListener("resize",this.handleWindowResize),this.teardownDragging())}},handleScroll:function(e){var t=this,n=this.props,r=n.onScroll,o=n.onScrollFrame;r&&r(e),this.update(function(e){var n=e.scrollLeft,r=e.scrollTop;t.viewScrollLeft=n,t.viewScrollTop=r,o&&o(e)}),this.detectScrolling()},handleScrollStart:function(){var e=this.props.onScrollStart;e&&e(),this.handleScrollStartAutoHide()},handleScrollStartAutoHide:function(){var e=this.props.autoHide;e&&this.showTracks()},handleScrollStop:function(){var e=this.props.onScrollStop;e&&e(),this.handleScrollStopAutoHide()},handleScrollStopAutoHide:function(){var e=this.props.autoHide;e&&this.hideTracks()},handleWindowResize:function(){this.update()},handleHorizontalTrackMouseDown:function(){var e=this.refs.view,t=event,n=t.target,r=t.clientX,o=n.getBoundingClientRect(),i=o.left,l=this.getThumbHorizontalWidth(),a=Math.abs(i-r)-l/2;e.scrollLeft=this.getScrollLeftForOffset(a)},handleVerticalTrackMouseDown:function(e){var t=this.refs.view,n=e.target,r=e.clientY,o=n.getBoundingClientRect(),i=o.top,l=this.getThumbVerticalHeight(),a=Math.abs(i-r)-l/2;t.scrollTop=this.getScrollTopForOffset(a)},handleHorizontalThumbMouseDown:function(e){this.handleDragStart(e);var t=e.target,n=e.clientX,r=t.offsetWidth,o=t.getBoundingClientRect(),i=o.left;this.prevPageX=r-(n-i)},handleVerticalThumbMouseDown:function(e){this.handleDragStart(e);var t=e.target,n=e.clientY,r=t.offsetHeight,o=t.getBoundingClientRect(),i=o.top;this.prevPageY=r-(n-i)},setupDragging:function(){(0,u["default"])(document.body,w.disableSelectStyle),document.addEventListener("mousemove",this.handleDrag),document.addEventListener("mouseup",this.handleDragEnd),document.onselectstart=v["default"]},teardownDragging:function(){(0,u["default"])(document.body,w.disableSelectStyleReset),document.removeEventListener("mousemove",this.handleDrag),document.removeEventListener("mouseup",this.handleDragEnd),document.onselectstart=void 0},handleDragStart:function(e){this.dragging=!0,e.stopImmediatePropagation(),this.setupDragging()},handleDrag:function(e){if(this.prevPageX){var t=e.clientX,n=this.refs,r=n.view,o=n.trackHorizontal,i=o.getBoundingClientRect(),l=i.left,a=this.getThumbHorizontalWidth(),s=a-this.prevPageX,u=-l+t-s;r.scrollLeft=this.getScrollLeftForOffset(u)}if(this.prevPageY){var c=e.clientY,d=this.refs,p=d.view,f=d.trackVertical,h=f.getBoundingClientRect(),v=h.top,m=this.getThumbVerticalHeight(),g=m-this.prevPageY,b=-v+c-g;p.scrollTop=this.getScrollTopForOffset(b)}return!1},handleDragEnd:function(){this.dragging=!1,this.prevPageX=this.prevPageY=0,this.teardownDragging(),this.handleDragEndAutoHide()},handleDragEndAutoHide:function(){var e=this.props.autoHide;e&&this.hideTracks()},handleTrackMouseEnter:function(){this.trackMouseOver=!0,this.handleTrackMouseEnterAutoHide()},handleTrackMouseEnterAutoHide:function(){var e=this.props.autoHide;e&&this.showTracks()},handleTrackMouseLeave:function(){this.trackMouseOver=!1,this.handleTrackMouseLeaveAutoHide()},handleTrackMouseLeaveAutoHide:function(){var e=this.props.autoHide;e&&this.hideTracks()},showTracks:function(){var e=this.refs,t=e.trackHorizontal,n=e.trackVertical;clearTimeout(this.hideTracksTimeout),(0,u["default"])(t,{opacity:1}),(0,u["default"])(n,{opacity:1})},hideTracks:function(){if(!this.dragging&&!this.scrolling&&!this.trackMouseOver){var e=this.props.autoHideTimeout,t=this.refs,n=t.trackHorizontal,r=t.trackVertical;clearTimeout(this.hideTracksTimeout),this.hideTracksTimeout=setTimeout(function(){(0,u["default"])(n,{opacity:0
}),(0,u["default"])(r,{opacity:0})},e)}},detectScrolling:function(){var e=this;this.scrolling||(this.scrolling=!0,this.handleScrollStart(),this.detectScrollingInterval=setInterval(function(){e.lastViewScrollLeft===e.viewScrollLeft&&e.lastViewScrollTop===e.viewScrollTop&&(clearInterval(e.detectScrollingInterval),e.scrolling=!1,e.handleScrollStop()),e.lastViewScrollLeft=e.viewScrollLeft,e.lastViewScrollTop=e.viewScrollTop},100))},raf:function(e){var t=this;this.requestFrame&&a["default"].cancel(this.requestFrame),this.requestFrame=(0,a["default"])(function(){t.requestFrame=void 0,e()})},update:function(e){var t=this;this.raf(function(){var n=t.props,r=n.onUpdate,o=n.hideTracksWhenNotNeeded,i=t.getValues();if((0,f["default"])()){var l=t.refs,a=l.thumbHorizontal,s=l.thumbVertical,c=l.trackHorizontal,d=l.trackVertical,p=i.scrollLeft,h=i.clientWidth,v=i.scrollWidth,m=(0,g["default"])(c),b=t.getThumbHorizontalWidth(),w=p/(v-h)*(m-b),x={width:b,transform:"translateX("+w+"px)"},k=i.scrollTop,T=i.clientHeight,S=i.scrollHeight,F=(0,y["default"])(d),E=t.getThumbVerticalHeight(),C=k/(S-T)*(F-E),P={height:E,transform:"translateY("+C+"px)"};if(o){var L={visibility:v>h?"visible":"hidden"},_={visibility:S>T?"visible":"hidden"};(0,u["default"])(c,L),(0,u["default"])(d,_)}(0,u["default"])(a,x),(0,u["default"])(s,P)}r&&r(i),"function"==typeof e&&e(i)})},render:function(){var e=(0,f["default"])(),t=this.props,n=(t.onScroll,t.onScrollFrame,t.onScrollStart,t.onScrollStop,t.renderView),r=t.renderTrackHorizontal,l=t.renderTrackVertical,a=t.renderThumbHorizontal,s=t.renderThumbVertical,u=t.autoHide,p=(t.autoHideTimeout,t.autoHideDuration),h=(t.thumbSize,t.thumbMinSize,t.universal),v=t.autoHeight,m=t.autoHeightMin,g=t.autoHeightMax,b=t.style,y=t.children,x=o(t,["onScroll","onScrollFrame","onScrollStart","onScrollStop","renderView","renderTrackHorizontal","renderTrackVertical","renderThumbHorizontal","renderThumbVertical","autoHide","autoHideTimeout","autoHideDuration","thumbSize","thumbMinSize","universal","autoHeight","autoHeightMin","autoHeightMax","style","children"]),k=this.state.didMountUniversal,T=i({},w.containerStyleDefault,v&&i({},w.containerStyleAutoHeight,{minHeight:m,maxHeight:g}),b),S=i({},w.viewStyleDefault,{marginRight:e?-e:0,marginBottom:e?-e:0},v&&i({},w.viewStyleAutoHeight,{minHeight:m+e,maxHeight:g+e}),h&&!k&&w.viewStyleUniversalInitial),F=i({},w.trackHorizontalStyleDefault,u&&{transition:"opacity "+p+"ms",opacity:0},(!e||h)&&!k&&{display:"none"}),E=i({},w.trackVerticalStyleDefault,u&&{transition:"opacity "+p+"ms",opacity:0},(!e||h)&&!k&&{display:"none"});return d["default"].createElement("div",i({},x,{style:T,ref:"container"}),(0,c.cloneElement)(n({style:S}),{ref:"view"},y),(0,c.cloneElement)(r({style:F}),{ref:"trackHorizontal"},(0,c.cloneElement)(a({style:w.thumbHorizontalStyleDefault}),{ref:"thumbHorizontal"})),(0,c.cloneElement)(l({style:E}),{ref:"trackVertical"},(0,c.cloneElement)(s({style:w.thumbVerticalStyleDefault}),{ref:"thumbVertical"})))}})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.containerStyleDefault={position:"relative",overflow:"hidden",width:"100%",height:"100%"},t.containerStyleAutoHeight={height:"auto"},t.viewStyleDefault={position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"scroll",WebkitOverflowScrolling:"touch"},t.viewStyleAutoHeight={position:"relative",top:void 0,left:void 0,right:void 0,bottom:void 0},t.viewStyleUniversalInitial={overflow:"hidden",marginRight:0,marginBottom:0},t.trackHorizontalStyleDefault={position:"absolute",height:6},t.trackVerticalStyleDefault={position:"absolute",width:6},t.thumbHorizontalStyleDefault={position:"relative",display:"block",height:"100%"},t.thumbVerticalStyleDefault={position:"relative",display:"block",width:"100%"},t.disableSelectStyle={userSelect:"none"},t.disableSelectStyleReset={userSelect:""}},function(e,t){"use strict";function n(e){var t=e.clientHeight,n=getComputedStyle(e),r=n.paddingTop,o=n.paddingBottom;return t-parseFloat(r)-parseFloat(o)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t){"use strict";function n(e){var t=e.clientWidth,n=getComputedStyle(e),r=n.paddingLeft,o=n.paddingRight;return t-parseFloat(r)-parseFloat(o)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){if(a!==!1)return a;if("undefined"!=typeof document){var e=document.createElement("div");(0,l["default"])(e,{width:100,height:100,position:"absolute",top:-9999,overflow:"scroll",MsOverflowStyle:"scrollbar"}),document.body.appendChild(e),a=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}else a=0;return a}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var i=n(4),l=r(i),a=!1},function(e,t){"use strict";function n(){return!1}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t,n){var r=n(18);"string"==typeof r&&(r=[[e.id,r,""]]);n(10)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(19);"string"==typeof r&&(r=[[e.id,r,""]]);n(10)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){function r(e){return o(e).replace(/\s(\w)/g,function(e,t){return t.toUpperCase()})}var o=n(40);e.exports=r},function(e,t){function n(e){return i.test(e)?e.toLowerCase():l.test(e)?(r(e)||e).toLowerCase():a.test(e)?o(e).toLowerCase():e.toLowerCase()}function r(e){return e.replace(s,function(e,t){return t?" "+t:""})}function o(e){return e.replace(u,function(e,t,n){return t+" "+n.toLowerCase().split("").join(" ")})}e.exports=n;var i=/\s/,l=/(_|-|\.|:)/,a=/([a-z][A-Z]|[A-Z][a-z])/,s=/[\W_]+(.|$)/g,u=/(.)([A-Z]+)/g},function(e,t,n){function r(e){return o(e).replace(/[\W_]+(.|$)/g,function(e,t){return t?" "+t:""}).trim()}var o=n(39);e.exports=r},function(e,t,n){function r(e){return n(o(e))}function o(e){return i[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var i={"./browse.svg":27,"./checkmark.svg":6,"./link.svg":28,"./upload.svg":7,"./x.svg":8};r.keys=function(){return Object.keys(i)},r.resolve=o,e.exports=r,r.id=41}])});